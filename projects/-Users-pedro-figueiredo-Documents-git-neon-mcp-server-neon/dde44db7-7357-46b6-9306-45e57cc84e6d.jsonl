{"parentUuid":null,"isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","type":"user","message":{"role":"user","content":"Caveat: The messages below were generated by the user while running local commands. DO NOT respond to these messages or otherwise consider them in your response unless the user explicitly asks you to."},"isMeta":true,"uuid":"39da14c6-d273-448a-b121-26b46473fb96","timestamp":"2025-09-01T09:40:54.437Z"}
{"parentUuid":"39da14c6-d273-448a-b121-26b46473fb96","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","type":"user","message":{"role":"user","content":"<command-name>/clear</command-name>\n          <command-message>clear</command-message>\n          <command-args></command-args>"},"uuid":"e79a86cd-c942-4712-abb1-0116650e90b9","timestamp":"2025-09-01T09:40:54.427Z"}
{"parentUuid":"e79a86cd-c942-4712-abb1-0116650e90b9","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","type":"user","message":{"role":"user","content":"<local-command-stdout></local-command-stdout>"},"uuid":"e00ff770-700a-4ab2-aff4-9d7720017490","timestamp":"2025-09-01T09:40:54.435Z"}
{"parentUuid":"e00ff770-700a-4ab2-aff4-9d7720017490","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","type":"user","message":{"role":"user","content":"add instructions to installing Claude Code right after Claude Desktop https://neon.com/guides/claude-code-mcp-neon"},"uuid":"7d26314d-f283-4b97-ba95-4a888d69514c","timestamp":"2025-09-01T09:41:49.551Z"}
{"parentUuid":"7d26314d-f283-4b97-ba95-4a888d69514c","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","type":"user","message":{"role":"user","content":[{"type":"text","text":"[Request interrupted by user]"}]},"uuid":"c00c56de-ba48-40e0-a763-3ab9f69c0429","timestamp":"2025-09-01T09:41:51.399Z"}
{"parentUuid":"c00c56de-ba48-40e0-a763-3ab9f69c0429","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","type":"user","message":{"role":"user","content":"add instructions to installing Claude Code right after Claude Desktop https://neon.com/guides/claude-code-mcp-neon"},"uuid":"a3c9cd1f-78f4-403b-b923-0197d0fc6659","timestamp":"2025-09-01T09:41:53.823Z"}
{"parentUuid":"a3c9cd1f-78f4-403b-b923-0197d0fc6659","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","message":{"id":"msg_015t45bLDaqeDupJKN8kwjXd","type":"message","role":"assistant","model":"claude-opus-4-1-20250805","content":[{"type":"text","text":"I'll help you add instructions for installing Claude Code after the Claude Desktop section in the guide. Let me first examine the current structure of the README to understand where to place these instructions."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":17675,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":17675,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CShTkA18Ke9TTfhfJtw6B","type":"assistant","uuid":"de8b52f1-3a73-460f-bc9a-7f0585a16e9f","timestamp":"2025-09-01T09:41:58.296Z"}
{"parentUuid":"de8b52f1-3a73-460f-bc9a-7f0585a16e9f","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","message":{"id":"msg_015t45bLDaqeDupJKN8kwjXd","type":"message","role":"assistant","model":"claude-opus-4-1-20250805","content":[{"type":"tool_use","id":"toolu_01XTxxrF84yZZ5zSyZ8QpQxK","name":"Read","input":{"file_path":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon/README.md"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":17675,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":17675,"ephemeral_1h_input_tokens":0},"output_tokens":118,"service_tier":"standard"}},"requestId":"req_011CShTkA18Ke9TTfhfJtw6B","type":"assistant","uuid":"dcb8a30f-ebb3-4bdf-801b-021ff858cef8","timestamp":"2025-09-01T09:41:59.909Z"}
{"parentUuid":"dcb8a30f-ebb3-4bdf-801b-021ff858cef8","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01XTxxrF84yZZ5zSyZ8QpQxK","type":"tool_result","content":"     1→# Neon MCP Server\n     2→\n     3→[![Install MCP Server in Cursor](https://cursor.com/deeplink/mcp-install-dark.svg)](https://cursor.com/install-mcp?name=Neon&config=eyJ1cmwiOiJodHRwczovL21jcC5uZW9uLnRlY2gvbWNwIn0%3D)\n     4→\n     5→**Neon MCP Server** is an open-source tool that lets you interact with your Neon Postgres databases in **natural language**.\n     6→\n     7→[![npm version](https://img.shields.io/npm/v/@neondatabase/mcp-server-neon)](https://www.npmjs.com/package/@neondatabase/mcp-server-neon)\n     8→[![npm downloads](https://img.shields.io/npm/dt/@neondatabase/mcp-server-neon)](https://www.npmjs.com/package/@neondatabase/mcp-server-neon)\n     9→[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)\n    10→\n    11→The Model Context Protocol (MCP) is a [new, standardized protocol](https://modelcontextprotocol.io/introduction) designed to manage context between large language models (LLMs) and external systems. This repository offers an installer and an MCP Server for [Neon](https://neon.tech).\n    12→\n    13→Neon's MCP server acts as a bridge between natural language requests and the [Neon API](https://api-docs.neon.tech/reference/getting-started-with-neon-api). Built upon MCP, it translates your requests into the necessary API calls, enabling you to manage tasks such as creating projects and branches, running queries, and performing database migrations seamlessly.\n    14→\n    15→Some of the key features of the Neon MCP server include:\n    16→\n    17→- **Natural language interaction:** Manage Neon databases using intuitive, conversational commands.\n    18→- **Simplified database management:** Perform complex actions without writing SQL or directly using the Neon API.\n    19→- **Accessibility for non-developers:** Empower users with varying technical backgrounds to interact with Neon databases.\n    20→- **Database migration support:** Leverage Neon's branching capabilities for database schema changes initiated via natural language.\n    21→\n    22→For example, in Claude Desktop, or any MCP Client, you can use natural language to accomplish things with Neon, such as:\n    23→\n    24→- `Let's create a new Postgres database, and call it \"my-database\". Let's then create a table called users with the following columns: id, name, email, and password.`\n    25→- `I want to run a migration on my project called \"my-project\" that alters the users table to add a new column called \"created_at\".`\n    26→- `Can you give me a summary of all of my Neon projects and what data is in each one?`\n    27→\n    28→> [!WARNING]  \n    29→> **Neon MCP Server Security Considerations**  \n    30→> The Neon MCP Server grants powerful database management capabilities through natural language requests. **Always review and authorize actions requested by the LLM before execution.** Ensure that only authorized users and applications have access to the Neon MCP Server.\n    31→>\n    32→> The Neon MCP Server is intended for local development and IDE integrations only. **We do not recommend using the Neon MCP Server in production environments.** It can execute powerful operations that may lead to accidental or unauthorized changes.\n    33→>\n    34→> For more information, see [MCP security guidance →](https://neon.tech/docs/ai/neon-mcp-server#mcp-security-guidance).\n    35→\n    36→## Supported MCP Clients\n    37→\n    38→Choose your preferred MCP client and install the Neon MCP Server with one click where available:\n    39→\n    40→<details>\n    41→<summary>Cursor IDE</summary>\n    42→\n    43→[![Install MCP Server in Cursor](https://cursor.com/deeplink/mcp-install-dark.svg)](https://cursor.com/install-mcp?name=Neon&config=eyJ1cmwiOiJodHRwczovL21jcC5uZW9uLnRlY2gvbWNwIn0%3D)\n    44→\n    45→**One-click installation** using the button above, or configure manually:\n    46→\n    47→**Remote MCP Server (Recommended):**\n    48→```json\n    49→{\n    50→  \"mcpServers\": {\n    51→    \"Neon\": {\n    52→      \"command\": \"npx\",\n    53→      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n    54→    }\n    55→  }\n    56→}\n    57→```\n    58→\n    59→**Local MCP Server:**\n    60→```json\n    61→{\n    62→  \"mcpServers\": {\n    63→    \"neon\": {\n    64→      \"command\": \"npx\",\n    65→      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n    66→    }\n    67→  }\n    68→}\n    69→```\n    70→\n    71→📖 [Detailed Cursor setup guide](https://neon.tech/guides/cursor-mcp-neon)\n    72→\n    73→</details>\n    74→\n    75→<details>\n    76→<summary>VS Code</summary>\n    77→\n    78→[![Install Server](https://img.shields.io/badge/Install_Server-007ACC?style=for-the-badge&logo=visualstudiocode&logoColor=white)](vscode:mcp/install?%7B%22mcpServers%22%3A%7B%22Neon%22%3A%7B%22command%22%3A%22npx%22%2C%22args%22%3A%5B%22-y%22%2C%22mcp-remote%22%2C%22https%3A%2F%2Fmcp.neon.tech%2Fmcp%22%5D%7D%7D%7D)\n    79→\n    80→**One-click installation** using the button above, or configure manually in your VS Code MCP settings:\n    81→\n    82→**Remote MCP Server (Recommended):**\n    83→```json\n    84→{\n    85→  \"mcpServers\": {\n    86→    \"Neon\": {\n    87→      \"command\": \"npx\",\n    88→      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n    89→    }\n    90→  }\n    91→}\n    92→```\n    93→\n    94→**Local MCP Server:**\n    95→```json\n    96→{\n    97→  \"mcpServers\": {\n    98→    \"neon\": {\n    99→      \"command\": \"npx\",\n   100→      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n   101→    }\n   102→  }\n   103→}\n   104→```\n   105→\n   106→Configuration location: `.vscode/mcp.json` (workspace) or global settings.\n   107→\n   108→</details>\n   109→\n   110→<details>\n   111→<summary>Claude Desktop</summary>\n   112→\n   113→**Manual configuration** required:\n   114→\n   115→1. Open Claude Desktop Settings → Extensions\n   116→2. Choose installation method:\n   117→   - **Remote MCP Server (OAuth):** Download and install DXT file, or\n   118→   - **Manual Configuration:** Edit config file directly\n   119→\n   120→**Remote MCP Server config:**\n   121→```json\n   122→{\n   123→  \"mcpServers\": {\n   124→    \"Neon\": {\n   125→      \"command\": \"npx\",\n   126→      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n   127→    }\n   128→  }\n   129→}\n   130→```\n   131→\n   132→**Local MCP Server config:**\n   133→```json\n   134→{\n   135→  \"mcpServers\": {\n   136→    \"neon\": {\n   137→      \"command\": \"npx\",\n   138→      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n   139→    }\n   140→  }\n   141→}\n   142→```\n   143→\n   144→📍 **Config file locations:**\n   145→- macOS: `~/Library/Application Support/Claude/claude_desktop_config.json`\n   146→- Windows: `%APPDATA%\\Claude\\claude_desktop_config.json`\n   147→\n   148→📖 [Detailed Claude Desktop setup guide](https://neon.tech/guides/neon-mcp-server)\n   149→\n   150→</details>\n   151→\n   152→<details>\n   153→<summary>Cline (VS Code Extension)</summary>\n   154→\n   155→**Setup through Cline extension:**\n   156→\n   157→1. Install [Cline extension](https://marketplace.visualstudio.com/items?itemName=cline.cline) in VS Code\n   158→2. Open Cline extension settings\n   159→3. Navigate to MCP server configuration\n   160→4. Add Neon MCP server:\n   161→\n   162→**Remote MCP Server (Recommended):**\n   163→```json\n   164→{\n   165→  \"mcpServers\": {\n   166→    \"Neon\": {\n   167→      \"command\": \"npx\",\n   168→      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n   169→    }\n   170→  }\n   171→}\n   172→```\n   173→\n   174→**Local MCP Server:**\n   175→```json\n   176→{\n   177→  \"mcpServers\": {\n   178→    \"neon\": {\n   179→      \"command\": \"npx\",\n   180→      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n   181→    }\n   182→  }\n   183→}\n   184→```\n   185→\n   186→📖 [Detailed Cline setup guide](https://neon.tech/guides/cline-mcp-neon)\n   187→\n   188→</details>\n   189→\n   190→<details>\n   191→<summary>Windsurf IDE</summary>\n   192→\n   193→**Setup through Windsurf settings:**\n   194→\n   195→1. Open Windsurf Settings → Cascade section\n   196→2. Click \"Add Server\" button\n   197→3. Configure Neon MCP server:\n   198→\n   199→**Remote MCP Server (Recommended):**\n   200→```json\n   201→{\n   202→  \"mcpServers\": {\n   203→    \"Neon\": {\n   204→      \"command\": \"npx\",\n   205→      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n   206→    }\n   207→  }\n   208→}\n   209→```\n   210→\n   211→**Local MCP Server:**\n   212→```json\n   213→{\n   214→  \"mcpServers\": {\n   215→    \"neon\": {\n   216→      \"command\": \"npx\",\n   217→      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n   218→    }\n   219→  }\n   220→}\n   221→```\n   222→\n   223→📍 **Manual config location:** `~/.codeium/windsurf/mcp_config.json`\n   224→\n   225→📖 [Detailed Windsurf setup guide](https://neon.tech/guides/windsurf-mcp-neon)\n   226→\n   227→</details>\n   228→\n   229→<details>\n   230→<summary>Zed Editor</summary>\n   231→\n   232→**Setup through Zed extension store or settings:**\n   233→\n   234→1. Open Command Palette → \"zed: extensions\" → Browse MCP servers, or\n   235→2. Agent Panel → \"Add Custom Server\" button, or  \n   236→3. Manual configuration in `settings.json`:\n   237→\n   238→**Remote MCP Server (Recommended):**\n   239→```json\n   240→{\n   241→  \"context_servers\": {\n   242→    \"Neon\": {\n   243→      \"source\": \"custom\",\n   244→      \"command\": \"npx\",\n   245→      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n   246→    }\n   247→  }\n   248→}\n   249→```\n   250→\n   251→**Local MCP Server:**\n   252→```json\n   253→{\n   254→  \"context_servers\": {\n   255→    \"neon\": {\n   256→      \"source\": \"custom\", \n   257→      \"command\": \"npx\",\n   258→      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n   259→    }\n   260→  }\n   261→}\n   262→```\n   263→\n   264→📖 [Detailed Zed setup guide](https://neon.tech/guides/zed-mcp-neon)\n   265→\n   266→</details>\n   267→\n   268→---\n   269→\n   270→## Setting up Neon MCP Server\n   271→\n   272→You have two options for connecting your MCP client to Neon:\n   273→\n   274→1. **Remote MCP Server (Preview):** Connect to Neon's managed MCP server using OAuth for authentication. This method is more convenient as it eliminates the need to manage API keys. Additionally, you will automatically receive the latest features and improvements as soon as they are released.\n   275→\n   276→2. **Local MCP Server:** Run the Neon MCP server locally on your machine, authenticating with a Neon API key.\n   277→\n   278→## Prerequisites\n   279→\n   280→- An MCP Client application.\n   281→- A [Neon account](https://console.neon.tech/signup).\n   282→- **Node.js (>= v18.0.0) and npm:** Download from [nodejs.org](https://nodejs.org).\n   283→\n   284→For Local MCP Server setup, you also need a Neon API key. See [Neon API Keys documentation](https://neon.tech/docs/manage/api-keys) for instructions on generating one.\n   285→\n   286→### Option 1. Remote Hosted MCP Server (Preview)\n   287→\n   288→Connect to Neon's managed MCP server using OAuth for authentication. This is the easiest setup, requires no local installation of this server, and doesn't need a Neon API key configured in the client.\n   289→\n   290→- Add the following \"Neon\" entry to your client's MCP server configuration file (e.g., `mcp.json`, `mcp_config.json`):\n   291→\n   292→  ```json\n   293→  {\n   294→    \"mcpServers\": {\n   295→      \"Neon\": {\n   296→        \"command\": \"npx\",\n   297→        \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n   298→      }\n   299→    }\n   300→  }\n   301→  ```\n   302→\n   303→- Save the configuration file.\n   304→- Restart or refresh your MCP client.\n   305→- An OAuth window will open in your browser. Follow the prompts to authorize your MCP client to access your Neon account.\n   306→\n   307→> With OAuth base authentication, the MCP server will, by default operate on projects under your personal Neon account. To access or manage projects under organization, you must explicitly provide either the `org_id` or the `project_id` in your prompt to MCP client.\n   308→\n   309→Remote MCP Server also supports authentication using API key in the `Authorization` header if your client supports it\n   310→\n   311→```json\n   312→{\n   313→  \"mcpServers\": {\n   314→    \"Neon\": {\n   315→      \"url\": \"https://mcp.neon.tech/mcp\",\n   316→      \"headers\": {\n   317→        \"Authorization\": \"Bearer <$NEON_API_KEY>\"\n   318→      }\n   319→    }\n   320→  }\n   321→}\n   322→```\n   323→\n   324→> Provider organization's API key to limit access to projects under the organization only.\n   325→\n   326→MCP supports two remote server transports: the deprecated Server-Sent Events (SSE) and the newer, recommended Streamable HTTP. If your LLM client doesn't support Streamable HTTP yet, you can switch the endpoint from `https://mcp.neon.tech/mcp` to `https://mcp.neon.tech/sse` to use SSE instead.\n   327→\n   328→### Option 2. Local MCP Server\n   329→\n   330→Run the Neon MCP server on your local machine with your Neon API key. This method allows you to manage your Neon projects and databases without relying on a remote MCP server.\n   331→\n   332→Add the following JSON configuration within the `mcpServers` section of your client's `mcp_config` file, replacing `<YOUR_NEON_API_KEY>` with your actual Neon API key:\n   333→\n   334→```json\n   335→{\n   336→  \"mcpServers\": {\n   337→    \"neon\": {\n   338→      \"command\": \"npx\",\n   339→      \"args\": [\n   340→        \"-y\",\n   341→        \"@neondatabase/mcp-server-neon\",\n   342→        \"start\",\n   343→        \"<YOUR_NEON_API_KEY>\"\n   344→      ]\n   345→    }\n   346→  }\n   347→}\n   348→```\n   349→\n   350→### Troubleshooting\n   351→\n   352→If your client does not use `JSON` for configuration of MCP servers (such as older versions of Cursor), you can use the following command when prompted:\n   353→\n   354→```bash\n   355→npx -y @neondatabase/mcp-server-neon start <YOUR_NEON_API_KEY>\n   356→```\n   357→\n   358→#### Troubleshooting on Windows\n   359→\n   360→If you are using Windows and encounter issues while adding the MCP server, you might need to use the Command Prompt (`cmd`) or Windows Subsystem for Linux (`wsl`) to run the necessary commands. Your configuration setup may resemble the following:\n   361→\n   362→```json\n   363→{\n   364→  \"mcpServers\": {\n   365→    \"neon\": {\n   366→      \"command\": \"cmd\",\n   367→      \"args\": [\n   368→        \"/c\",\n   369→        \"npx\",\n   370→        \"-y\",\n   371→        \"@neondatabase/mcp-server-neon\",\n   372→        \"start\",\n   373→        \"<YOUR_NEON_API_KEY>\"\n   374→      ]\n   375→    }\n   376→  }\n   377→}\n   378→```\n   379→\n   380→```json\n   381→{\n   382→  \"mcpServers\": {\n   383→    \"neon\": {\n   384→      \"command\": \"wsl\",\n   385→      \"args\": [\n   386→        \"npx\",\n   387→        \"-y\",\n   388→        \"@neondatabase/mcp-server-neon\",\n   389→        \"start\",\n   390→        \"<YOUR_NEON_API_KEY>\"\n   391→      ]\n   392→    }\n   393→  }\n   394→}\n   395→```\n   396→\n   397→## Guides\n   398→\n   399→- [Neon MCP Server Guide](https://neon.tech/docs/ai/neon-mcp-server)\n   400→- [Connect MCP Clients to Neon](https://neon.tech/docs/ai/connect-mcp-clients-to-neon)\n   401→- [Cursor with Neon MCP Server](https://neon.tech/guides/cursor-mcp-neon)\n   402→- [Claude Desktop with Neon MCP Server](https://neon.tech/guides/neon-mcp-server)\n   403→- [Cline with Neon MCP Server](https://neon.tech/guides/cline-mcp-neon)\n   404→- [Windsurf with Neon MCP Server](https://neon.tech/guides/windsurf-mcp-neon)\n   405→- [Zed with Neon MCP Server](https://neon.tech/guides/zed-mcp-neon)\n   406→\n   407→# Features\n   408→\n   409→## Supported Tools\n   410→\n   411→The Neon MCP Server provides the following actions, which are exposed as \"tools\" to MCP Clients. You can use these tools to interact with your Neon projects and databases using natural language commands.\n   412→\n   413→**Project Management:**\n   414→\n   415→- **`list_projects`**: Lists the first 10 Neon projects in your account, providing a summary of each project. If you can't find a specific project, increase the limit by passing a higher value to the `limit` parameter.\n   416→- **`describe_project`**: Fetches detailed information about a specific Neon project, including its ID, name, and associated branches and databases.\n   417→- **`create_project`**: Creates a new Neon project in your Neon account. A project acts as a container for branches, databases, roles, and computes.\n   418→- **`delete_project`**: Deletes an existing Neon project and all its associated resources.\n   419→\n   420→**Branch Management:**\n   421→\n   422→- **`create_branch`**: Creates a new branch within a specified Neon project. Leverages [Neon's branching](/docs/introduction/branching) feature for development, testing, or migrations.\n   423→- **`delete_branch`**: Deletes an existing branch from a Neon project.\n   424→- **`describe_branch`**: Retrieves details about a specific branch, such as its name, ID, and parent branch.\n   425→- **`list_branch_computes`**: Lists compute endpoints for a project or specific branch, including compute ID, type, size, and autoscaling information.\n   426→- **`list_organizations`**: Lists all organizations that the current user has access to. Optionally filter by organization name or ID using the search parameter.\n   427→\n   428→**SQL Query Execution:**\n   429→\n   430→- **`get_connection_string`**: Returns your database connection string.\n   431→- **`run_sql`**: Executes a single SQL query against a specified Neon database. Supports both read and write operations.\n   432→- **`run_sql_transaction`**: Executes a series of SQL queries within a single transaction against a Neon database.\n   433→- **`get_database_tables`**: Lists all tables within a specified Neon database.\n   434→- **`describe_table_schema`**: Retrieves the schema definition of a specific table, detailing columns, data types, and constraints.\n   435→- **`list_slow_queries`**: Identifies performance bottlenecks by finding the slowest queries in a database. Requires the pg_stat_statements extension.\n   436→\n   437→**Database Migrations (Schema Changes):**\n   438→\n   439→- **`prepare_database_migration`**: Initiates a database migration process. Critically, it creates a temporary branch to apply and test the migration safely before affecting the main branch.\n   440→- **`complete_database_migration`**: Finalizes and applies a prepared database migration to the main branch. This action merges changes from the temporary migration branch and cleans up temporary resources.\n   441→\n   442→**Query Performance Optimization:**\n   443→\n   444→- **`explain_sql_statement`**: Provides detailed execution plans for SQL queries to help identify performance bottlenecks.\n   445→- **`prepare_query_tuning`**: Analyzes query performance and suggests optimizations like index creation. Creates a temporary branch for safely testing these optimizations.\n   446→- **`complete_query_tuning`**: Applies or discards query optimizations after testing. Can merge changes from the temporary branch to the main branch.\n   447→- **`list_slow_queries`**: Identifies and analyzes slow-performing queries in your database. Requires the `pg_stat_statements` extension.\n   448→\n   449→**Compute Management:**\n   450→\n   451→- **`list_branch_computes`**: Lists compute endpoints for a project or specific branch, showing details like compute ID, type, size, and last active time.\n   452→\n   453→**Neon Auth:**\n   454→\n   455→- **`provision_neon_auth`**: Provisions Neon Auth for a Neon project. It allows developers to easily set up authentication infrastructure by creating an integration with Stack Auth (`@stackframe/stack`).\n   456→\n   457→  **Query Performance Tuning:**\n   458→\n   459→- **`explain_sql_statement`**: Analyzes a SQL query and returns detailed execution plan information to help understand query performance.\n   460→- **`prepare_query_tuning`**: Identifies potential performance issues in a SQL query and suggests optimizations. Creates a temporary branch for testing improvements.\n   461→- **`complete_query_tuning`**: Finalizes and applies query optimizations after testing. Merges changes from the temporary tuning branch to the main branch.\n   462→\n   463→**Neon Auth:**\n   464→\n   465→- **`provision_neon_auth`**: Action to provision Neon Auth for a Neon project. It allows developers to easily setup authentication infrastructure by creating a integration with Stack Auth (`@stackframe/stack`).\n   466→\n   467→## Migrations\n   468→\n   469→Migrations are a way to manage changes to your database schema over time. With the Neon MCP server, LLMs are empowered to do migrations safely with separate \"Start\" (`prepare_database_migration`) and \"Commit\" (`complete_database_migration`) commands.\n   470→\n   471→The \"Start\" command accepts a migration and runs it in a new temporary branch. Upon returning, this command hints to the LLM that it should test the migration on this branch. The LLM can then run the \"Commit\" command to apply the migration to the original branch.\n   472→\n   473→# Development\n   474→\n   475→## Development with MCP CLI Client\n   476→\n   477→The easiest way to iterate on the MCP Server is using the `mcp-client/`. Learn more in `mcp-client/README.md`.\n   478→\n   479→```bash\n   480→npm install\n   481→npm run build\n   482→npm run watch # You can keep this open.\n   483→cd mcp-client/ && NEON_API_KEY=... npm run start:mcp-server-neon\n   484→```\n   485→\n   486→## Development with Claude Desktop (Local MCP Server)\n   487→\n   488→```bash\n   489→npm install\n   490→npm run build\n   491→npm run watch # You can keep this open.\n   492→node dist/index.js init $NEON_API_KEY\n   493→```\n   494→\n   495→Then, **restart Claude** each time you want to test changes.\n   496→\n   497→# Testing\n   498→\n   499→To run the tests you need to setup the `.env` file according to the `.env.example` file.\n   500→\n   501→```bash\n   502→npm run test\n   503→```\n   504→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"d9451934-6f72-4db9-9510-ffa109f32c75","timestamp":"2025-09-01T09:41:59.961Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon/README.md","content":"# Neon MCP Server\n\n[![Install MCP Server in Cursor](https://cursor.com/deeplink/mcp-install-dark.svg)](https://cursor.com/install-mcp?name=Neon&config=eyJ1cmwiOiJodHRwczovL21jcC5uZW9uLnRlY2gvbWNwIn0%3D)\n\n**Neon MCP Server** is an open-source tool that lets you interact with your Neon Postgres databases in **natural language**.\n\n[![npm version](https://img.shields.io/npm/v/@neondatabase/mcp-server-neon)](https://www.npmjs.com/package/@neondatabase/mcp-server-neon)\n[![npm downloads](https://img.shields.io/npm/dt/@neondatabase/mcp-server-neon)](https://www.npmjs.com/package/@neondatabase/mcp-server-neon)\n[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)\n\nThe Model Context Protocol (MCP) is a [new, standardized protocol](https://modelcontextprotocol.io/introduction) designed to manage context between large language models (LLMs) and external systems. This repository offers an installer and an MCP Server for [Neon](https://neon.tech).\n\nNeon's MCP server acts as a bridge between natural language requests and the [Neon API](https://api-docs.neon.tech/reference/getting-started-with-neon-api). Built upon MCP, it translates your requests into the necessary API calls, enabling you to manage tasks such as creating projects and branches, running queries, and performing database migrations seamlessly.\n\nSome of the key features of the Neon MCP server include:\n\n- **Natural language interaction:** Manage Neon databases using intuitive, conversational commands.\n- **Simplified database management:** Perform complex actions without writing SQL or directly using the Neon API.\n- **Accessibility for non-developers:** Empower users with varying technical backgrounds to interact with Neon databases.\n- **Database migration support:** Leverage Neon's branching capabilities for database schema changes initiated via natural language.\n\nFor example, in Claude Desktop, or any MCP Client, you can use natural language to accomplish things with Neon, such as:\n\n- `Let's create a new Postgres database, and call it \"my-database\". Let's then create a table called users with the following columns: id, name, email, and password.`\n- `I want to run a migration on my project called \"my-project\" that alters the users table to add a new column called \"created_at\".`\n- `Can you give me a summary of all of my Neon projects and what data is in each one?`\n\n> [!WARNING]  \n> **Neon MCP Server Security Considerations**  \n> The Neon MCP Server grants powerful database management capabilities through natural language requests. **Always review and authorize actions requested by the LLM before execution.** Ensure that only authorized users and applications have access to the Neon MCP Server.\n>\n> The Neon MCP Server is intended for local development and IDE integrations only. **We do not recommend using the Neon MCP Server in production environments.** It can execute powerful operations that may lead to accidental or unauthorized changes.\n>\n> For more information, see [MCP security guidance →](https://neon.tech/docs/ai/neon-mcp-server#mcp-security-guidance).\n\n## Supported MCP Clients\n\nChoose your preferred MCP client and install the Neon MCP Server with one click where available:\n\n<details>\n<summary>Cursor IDE</summary>\n\n[![Install MCP Server in Cursor](https://cursor.com/deeplink/mcp-install-dark.svg)](https://cursor.com/install-mcp?name=Neon&config=eyJ1cmwiOiJodHRwczovL21jcC5uZW9uLnRlY2gvbWNwIn0%3D)\n\n**One-click installation** using the button above, or configure manually:\n\n**Remote MCP Server (Recommended):**\n```json\n{\n  \"mcpServers\": {\n    \"Neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n    }\n  }\n}\n```\n\n**Local MCP Server:**\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n    }\n  }\n}\n```\n\n📖 [Detailed Cursor setup guide](https://neon.tech/guides/cursor-mcp-neon)\n\n</details>\n\n<details>\n<summary>VS Code</summary>\n\n[![Install Server](https://img.shields.io/badge/Install_Server-007ACC?style=for-the-badge&logo=visualstudiocode&logoColor=white)](vscode:mcp/install?%7B%22mcpServers%22%3A%7B%22Neon%22%3A%7B%22command%22%3A%22npx%22%2C%22args%22%3A%5B%22-y%22%2C%22mcp-remote%22%2C%22https%3A%2F%2Fmcp.neon.tech%2Fmcp%22%5D%7D%7D%7D)\n\n**One-click installation** using the button above, or configure manually in your VS Code MCP settings:\n\n**Remote MCP Server (Recommended):**\n```json\n{\n  \"mcpServers\": {\n    \"Neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n    }\n  }\n}\n```\n\n**Local MCP Server:**\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n    }\n  }\n}\n```\n\nConfiguration location: `.vscode/mcp.json` (workspace) or global settings.\n\n</details>\n\n<details>\n<summary>Claude Desktop</summary>\n\n**Manual configuration** required:\n\n1. Open Claude Desktop Settings → Extensions\n2. Choose installation method:\n   - **Remote MCP Server (OAuth):** Download and install DXT file, or\n   - **Manual Configuration:** Edit config file directly\n\n**Remote MCP Server config:**\n```json\n{\n  \"mcpServers\": {\n    \"Neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n    }\n  }\n}\n```\n\n**Local MCP Server config:**\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n    }\n  }\n}\n```\n\n📍 **Config file locations:**\n- macOS: `~/Library/Application Support/Claude/claude_desktop_config.json`\n- Windows: `%APPDATA%\\Claude\\claude_desktop_config.json`\n\n📖 [Detailed Claude Desktop setup guide](https://neon.tech/guides/neon-mcp-server)\n\n</details>\n\n<details>\n<summary>Cline (VS Code Extension)</summary>\n\n**Setup through Cline extension:**\n\n1. Install [Cline extension](https://marketplace.visualstudio.com/items?itemName=cline.cline) in VS Code\n2. Open Cline extension settings\n3. Navigate to MCP server configuration\n4. Add Neon MCP server:\n\n**Remote MCP Server (Recommended):**\n```json\n{\n  \"mcpServers\": {\n    \"Neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n    }\n  }\n}\n```\n\n**Local MCP Server:**\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n    }\n  }\n}\n```\n\n📖 [Detailed Cline setup guide](https://neon.tech/guides/cline-mcp-neon)\n\n</details>\n\n<details>\n<summary>Windsurf IDE</summary>\n\n**Setup through Windsurf settings:**\n\n1. Open Windsurf Settings → Cascade section\n2. Click \"Add Server\" button\n3. Configure Neon MCP server:\n\n**Remote MCP Server (Recommended):**\n```json\n{\n  \"mcpServers\": {\n    \"Neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n    }\n  }\n}\n```\n\n**Local MCP Server:**\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n    }\n  }\n}\n```\n\n📍 **Manual config location:** `~/.codeium/windsurf/mcp_config.json`\n\n📖 [Detailed Windsurf setup guide](https://neon.tech/guides/windsurf-mcp-neon)\n\n</details>\n\n<details>\n<summary>Zed Editor</summary>\n\n**Setup through Zed extension store or settings:**\n\n1. Open Command Palette → \"zed: extensions\" → Browse MCP servers, or\n2. Agent Panel → \"Add Custom Server\" button, or  \n3. Manual configuration in `settings.json`:\n\n**Remote MCP Server (Recommended):**\n```json\n{\n  \"context_servers\": {\n    \"Neon\": {\n      \"source\": \"custom\",\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n    }\n  }\n}\n```\n\n**Local MCP Server:**\n```json\n{\n  \"context_servers\": {\n    \"neon\": {\n      \"source\": \"custom\", \n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n    }\n  }\n}\n```\n\n📖 [Detailed Zed setup guide](https://neon.tech/guides/zed-mcp-neon)\n\n</details>\n\n---\n\n## Setting up Neon MCP Server\n\nYou have two options for connecting your MCP client to Neon:\n\n1. **Remote MCP Server (Preview):** Connect to Neon's managed MCP server using OAuth for authentication. This method is more convenient as it eliminates the need to manage API keys. Additionally, you will automatically receive the latest features and improvements as soon as they are released.\n\n2. **Local MCP Server:** Run the Neon MCP server locally on your machine, authenticating with a Neon API key.\n\n## Prerequisites\n\n- An MCP Client application.\n- A [Neon account](https://console.neon.tech/signup).\n- **Node.js (>= v18.0.0) and npm:** Download from [nodejs.org](https://nodejs.org).\n\nFor Local MCP Server setup, you also need a Neon API key. See [Neon API Keys documentation](https://neon.tech/docs/manage/api-keys) for instructions on generating one.\n\n### Option 1. Remote Hosted MCP Server (Preview)\n\nConnect to Neon's managed MCP server using OAuth for authentication. This is the easiest setup, requires no local installation of this server, and doesn't need a Neon API key configured in the client.\n\n- Add the following \"Neon\" entry to your client's MCP server configuration file (e.g., `mcp.json`, `mcp_config.json`):\n\n  ```json\n  {\n    \"mcpServers\": {\n      \"Neon\": {\n        \"command\": \"npx\",\n        \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n      }\n    }\n  }\n  ```\n\n- Save the configuration file.\n- Restart or refresh your MCP client.\n- An OAuth window will open in your browser. Follow the prompts to authorize your MCP client to access your Neon account.\n\n> With OAuth base authentication, the MCP server will, by default operate on projects under your personal Neon account. To access or manage projects under organization, you must explicitly provide either the `org_id` or the `project_id` in your prompt to MCP client.\n\nRemote MCP Server also supports authentication using API key in the `Authorization` header if your client supports it\n\n```json\n{\n  \"mcpServers\": {\n    \"Neon\": {\n      \"url\": \"https://mcp.neon.tech/mcp\",\n      \"headers\": {\n        \"Authorization\": \"Bearer <$NEON_API_KEY>\"\n      }\n    }\n  }\n}\n```\n\n> Provider organization's API key to limit access to projects under the organization only.\n\nMCP supports two remote server transports: the deprecated Server-Sent Events (SSE) and the newer, recommended Streamable HTTP. If your LLM client doesn't support Streamable HTTP yet, you can switch the endpoint from `https://mcp.neon.tech/mcp` to `https://mcp.neon.tech/sse` to use SSE instead.\n\n### Option 2. Local MCP Server\n\nRun the Neon MCP server on your local machine with your Neon API key. This method allows you to manage your Neon projects and databases without relying on a remote MCP server.\n\nAdd the following JSON configuration within the `mcpServers` section of your client's `mcp_config` file, replacing `<YOUR_NEON_API_KEY>` with your actual Neon API key:\n\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"npx\",\n      \"args\": [\n        \"-y\",\n        \"@neondatabase/mcp-server-neon\",\n        \"start\",\n        \"<YOUR_NEON_API_KEY>\"\n      ]\n    }\n  }\n}\n```\n\n### Troubleshooting\n\nIf your client does not use `JSON` for configuration of MCP servers (such as older versions of Cursor), you can use the following command when prompted:\n\n```bash\nnpx -y @neondatabase/mcp-server-neon start <YOUR_NEON_API_KEY>\n```\n\n#### Troubleshooting on Windows\n\nIf you are using Windows and encounter issues while adding the MCP server, you might need to use the Command Prompt (`cmd`) or Windows Subsystem for Linux (`wsl`) to run the necessary commands. Your configuration setup may resemble the following:\n\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"cmd\",\n      \"args\": [\n        \"/c\",\n        \"npx\",\n        \"-y\",\n        \"@neondatabase/mcp-server-neon\",\n        \"start\",\n        \"<YOUR_NEON_API_KEY>\"\n      ]\n    }\n  }\n}\n```\n\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"wsl\",\n      \"args\": [\n        \"npx\",\n        \"-y\",\n        \"@neondatabase/mcp-server-neon\",\n        \"start\",\n        \"<YOUR_NEON_API_KEY>\"\n      ]\n    }\n  }\n}\n```\n\n## Guides\n\n- [Neon MCP Server Guide](https://neon.tech/docs/ai/neon-mcp-server)\n- [Connect MCP Clients to Neon](https://neon.tech/docs/ai/connect-mcp-clients-to-neon)\n- [Cursor with Neon MCP Server](https://neon.tech/guides/cursor-mcp-neon)\n- [Claude Desktop with Neon MCP Server](https://neon.tech/guides/neon-mcp-server)\n- [Cline with Neon MCP Server](https://neon.tech/guides/cline-mcp-neon)\n- [Windsurf with Neon MCP Server](https://neon.tech/guides/windsurf-mcp-neon)\n- [Zed with Neon MCP Server](https://neon.tech/guides/zed-mcp-neon)\n\n# Features\n\n## Supported Tools\n\nThe Neon MCP Server provides the following actions, which are exposed as \"tools\" to MCP Clients. You can use these tools to interact with your Neon projects and databases using natural language commands.\n\n**Project Management:**\n\n- **`list_projects`**: Lists the first 10 Neon projects in your account, providing a summary of each project. If you can't find a specific project, increase the limit by passing a higher value to the `limit` parameter.\n- **`describe_project`**: Fetches detailed information about a specific Neon project, including its ID, name, and associated branches and databases.\n- **`create_project`**: Creates a new Neon project in your Neon account. A project acts as a container for branches, databases, roles, and computes.\n- **`delete_project`**: Deletes an existing Neon project and all its associated resources.\n\n**Branch Management:**\n\n- **`create_branch`**: Creates a new branch within a specified Neon project. Leverages [Neon's branching](/docs/introduction/branching) feature for development, testing, or migrations.\n- **`delete_branch`**: Deletes an existing branch from a Neon project.\n- **`describe_branch`**: Retrieves details about a specific branch, such as its name, ID, and parent branch.\n- **`list_branch_computes`**: Lists compute endpoints for a project or specific branch, including compute ID, type, size, and autoscaling information.\n- **`list_organizations`**: Lists all organizations that the current user has access to. Optionally filter by organization name or ID using the search parameter.\n\n**SQL Query Execution:**\n\n- **`get_connection_string`**: Returns your database connection string.\n- **`run_sql`**: Executes a single SQL query against a specified Neon database. Supports both read and write operations.\n- **`run_sql_transaction`**: Executes a series of SQL queries within a single transaction against a Neon database.\n- **`get_database_tables`**: Lists all tables within a specified Neon database.\n- **`describe_table_schema`**: Retrieves the schema definition of a specific table, detailing columns, data types, and constraints.\n- **`list_slow_queries`**: Identifies performance bottlenecks by finding the slowest queries in a database. Requires the pg_stat_statements extension.\n\n**Database Migrations (Schema Changes):**\n\n- **`prepare_database_migration`**: Initiates a database migration process. Critically, it creates a temporary branch to apply and test the migration safely before affecting the main branch.\n- **`complete_database_migration`**: Finalizes and applies a prepared database migration to the main branch. This action merges changes from the temporary migration branch and cleans up temporary resources.\n\n**Query Performance Optimization:**\n\n- **`explain_sql_statement`**: Provides detailed execution plans for SQL queries to help identify performance bottlenecks.\n- **`prepare_query_tuning`**: Analyzes query performance and suggests optimizations like index creation. Creates a temporary branch for safely testing these optimizations.\n- **`complete_query_tuning`**: Applies or discards query optimizations after testing. Can merge changes from the temporary branch to the main branch.\n- **`list_slow_queries`**: Identifies and analyzes slow-performing queries in your database. Requires the `pg_stat_statements` extension.\n\n**Compute Management:**\n\n- **`list_branch_computes`**: Lists compute endpoints for a project or specific branch, showing details like compute ID, type, size, and last active time.\n\n**Neon Auth:**\n\n- **`provision_neon_auth`**: Provisions Neon Auth for a Neon project. It allows developers to easily set up authentication infrastructure by creating an integration with Stack Auth (`@stackframe/stack`).\n\n  **Query Performance Tuning:**\n\n- **`explain_sql_statement`**: Analyzes a SQL query and returns detailed execution plan information to help understand query performance.\n- **`prepare_query_tuning`**: Identifies potential performance issues in a SQL query and suggests optimizations. Creates a temporary branch for testing improvements.\n- **`complete_query_tuning`**: Finalizes and applies query optimizations after testing. Merges changes from the temporary tuning branch to the main branch.\n\n**Neon Auth:**\n\n- **`provision_neon_auth`**: Action to provision Neon Auth for a Neon project. It allows developers to easily setup authentication infrastructure by creating a integration with Stack Auth (`@stackframe/stack`).\n\n## Migrations\n\nMigrations are a way to manage changes to your database schema over time. With the Neon MCP server, LLMs are empowered to do migrations safely with separate \"Start\" (`prepare_database_migration`) and \"Commit\" (`complete_database_migration`) commands.\n\nThe \"Start\" command accepts a migration and runs it in a new temporary branch. Upon returning, this command hints to the LLM that it should test the migration on this branch. The LLM can then run the \"Commit\" command to apply the migration to the original branch.\n\n# Development\n\n## Development with MCP CLI Client\n\nThe easiest way to iterate on the MCP Server is using the `mcp-client/`. Learn more in `mcp-client/README.md`.\n\n```bash\nnpm install\nnpm run build\nnpm run watch # You can keep this open.\ncd mcp-client/ && NEON_API_KEY=... npm run start:mcp-server-neon\n```\n\n## Development with Claude Desktop (Local MCP Server)\n\n```bash\nnpm install\nnpm run build\nnpm run watch # You can keep this open.\nnode dist/index.js init $NEON_API_KEY\n```\n\nThen, **restart Claude** each time you want to test changes.\n\n# Testing\n\nTo run the tests you need to setup the `.env` file according to the `.env.example` file.\n\n```bash\nnpm run test\n```\n","numLines":504,"startLine":1,"totalLines":504}}}
{"parentUuid":"d9451934-6f72-4db9-9510-ffa109f32c75","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","message":{"id":"msg_013t3fbetZLZGngNFsKmWCUf","type":"message","role":"assistant","model":"claude-opus-4-1-20250805","content":[{"type":"text","text":"Now let me check the guide at the URL mentioned to understand what needs to be added:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":7616,"cache_read_input_tokens":17675,"cache_creation":{"ephemeral_5m_input_tokens":7616,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CShTkeEW4GLKjTuSVC3Qi","type":"assistant","uuid":"30f39df3-d1e6-4431-ae35-378cc700d125","timestamp":"2025-09-01T09:42:04.614Z"}
{"parentUuid":"30f39df3-d1e6-4431-ae35-378cc700d125","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","message":{"id":"msg_013t3fbetZLZGngNFsKmWCUf","type":"message","role":"assistant","model":"claude-opus-4-1-20250805","content":[{"type":"tool_use","id":"toolu_01TKzNE5ue9x3xZgfbXxGhfe","name":"WebFetch","input":{"url":"https://neon.com/guides/claude-code-mcp-neon","prompt":"Extract the complete structure and content of this guide, paying special attention to the sections about Claude Desktop and what comes after it. I need to understand where Claude Code instructions should be added."}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":7616,"cache_read_input_tokens":17675,"cache_creation":{"ephemeral_5m_input_tokens":7616,"ephemeral_1h_input_tokens":0},"output_tokens":141,"service_tier":"standard"}},"requestId":"req_011CShTkeEW4GLKjTuSVC3Qi","type":"assistant","uuid":"9755212f-5f12-4d4d-b675-a19bd099370f","timestamp":"2025-09-01T09:42:07.012Z"}
{"parentUuid":"9755212f-5f12-4d4d-b675-a19bd099370f","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01TKzNE5ue9x3xZgfbXxGhfe","type":"tool_result","content":"Based on the web page content, this is a comprehensive guide about using Claude Code with Neon Postgres MCP Server. The guide is structured with several key sections:\n\n1. Introduction\n- Demonstrates database schema changes using natural language\n- Focuses on Claude Code's CLI and Neon's MCP server\n\n2. Key Components\n- Claude Code: Anthropic's CLI tool\n- Neon MCP Server: Bridge between MCP clients and Neon's API\n- Model Context Protocol (MCP): Communication standard\n\n3. Setup Options\n- Remote MCP Server (Preview)\n- Local MCP Server\n\n4. Prerequisites\n- Claude Code installation\n- Neon API Key\n- Node.js (>= v18)\n\n5. Detailed Setup Instructions\n- Commands for adding Neon MCP server\n- Authentication methods\n- Verification steps\n\n6. Supported Actions\n- Project management\n- Branch management\n- SQL query execution\n- Database migrations\n- Query performance tuning\n\nThe guide includes a practical workflow example showing how to add a column using natural language interactions with Claude Code and the Neon MCP server.\n\nThe content provides a comprehensive, step-by-step tutorial for developers interested in using AI-assisted database management with Neon and Claude Code."}]},"uuid":"5d872d21-6607-4658-a993-8b73b804f10a","timestamp":"2025-09-01T09:42:20.470Z","toolUseResult":{"bytes":475755,"code":200,"codeText":"OK","result":"Based on the web page content, this is a comprehensive guide about using Claude Code with Neon Postgres MCP Server. The guide is structured with several key sections:\n\n1. Introduction\n- Demonstrates database schema changes using natural language\n- Focuses on Claude Code's CLI and Neon's MCP server\n\n2. Key Components\n- Claude Code: Anthropic's CLI tool\n- Neon MCP Server: Bridge between MCP clients and Neon's API\n- Model Context Protocol (MCP): Communication standard\n\n3. Setup Options\n- Remote MCP Server (Preview)\n- Local MCP Server\n\n4. Prerequisites\n- Claude Code installation\n- Neon API Key\n- Node.js (>= v18)\n\n5. Detailed Setup Instructions\n- Commands for adding Neon MCP server\n- Authentication methods\n- Verification steps\n\n6. Supported Actions\n- Project management\n- Branch management\n- SQL query execution\n- Database migrations\n- Query performance tuning\n\nThe guide includes a practical workflow example showing how to add a column using natural language interactions with Claude Code and the Neon MCP server.\n\nThe content provides a comprehensive, step-by-step tutorial for developers interested in using AI-assisted database management with Neon and Claude Code.","durationMs":13434,"url":"https://neon.com/guides/claude-code-mcp-neon"}}
{"parentUuid":"5d872d21-6607-4658-a993-8b73b804f10a","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","message":{"id":"msg_01DDTFYCWeGNVXYmXBNbmf5C","type":"message","role":"assistant","model":"claude-opus-4-1-20250805","content":[{"type":"text","text":"Now let me check the Claude Desktop guide to understand the current structure better:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":587,"cache_read_input_tokens":25291,"cache_creation":{"ephemeral_5m_input_tokens":587,"ephemeral_1h_input_tokens":0},"output_tokens":4,"service_tier":"standard"}},"requestId":"req_011CShTn6GhQfRYbMWA8M3hF","type":"assistant","uuid":"87c88460-c8cc-4741-be01-3388ddd2ee31","timestamp":"2025-09-01T09:42:24.096Z"}
{"parentUuid":"87c88460-c8cc-4741-be01-3388ddd2ee31","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","message":{"id":"msg_01DDTFYCWeGNVXYmXBNbmf5C","type":"message","role":"assistant","model":"claude-opus-4-1-20250805","content":[{"type":"tool_use","id":"toolu_011rxErVVwZMFPf6WfY7Pwtj","name":"WebFetch","input":{"url":"https://neon.com/guides/neon-mcp-server","prompt":"Extract the structure and content of the Claude Desktop guide, focusing on the installation steps and what comes after the Claude Desktop installation section. I need to understand where Claude Code instructions would logically fit."}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":587,"cache_read_input_tokens":25291,"cache_creation":{"ephemeral_5m_input_tokens":587,"ephemeral_1h_input_tokens":0},"output_tokens":138,"service_tier":"standard"}},"requestId":"req_011CShTn6GhQfRYbMWA8M3hF","type":"assistant","uuid":"8c2bfa07-1e7e-4e8f-85f7-70acc74157cf","timestamp":"2025-09-01T09:42:26.003Z"}
{"parentUuid":"8c2bfa07-1e7e-4e8f-85f7-70acc74157cf","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_011rxErVVwZMFPf6WfY7Pwtj","type":"tool_result","content":"Based on the document, here's a summary of the Claude Desktop and Neon MCP Server setup:\n\nInstallation Steps:\n1. Prerequisites:\n- Node.js (>= v18)\n- Claude Desktop\n- Neon Account\n- Neon API Key\n\n2. Two Connection Options:\na) Remote MCP Server (Recommended)\n- OAuth authentication\n- Automatically receives latest features\n- Easier setup\n\nb) Local MCP Server\n- Runs locally\n- Uses Neon API key for authentication\n- More manual configuration\n\nSetup Process for Remote MCP Server:\n1. Open Claude Desktop settings\n2. Navigate to Developer tab\n3. Edit configuration file\n4. Add Neon server entry\n5. Restart Claude Desktop\n6. Complete OAuth authorization\n\nVerification:\n- Check available tools in Claude\n- Test by running a command like \"List my Neon projects\"\n\nThe guide suggests the remote hosted method is preferred, noting it's \"in preview\" with potential future changes.\n\nRegarding Claude Code instructions, the document doesn't explicitly detail those. The guide focuses on database interaction via natural language commands through the Neon MCP server."}]},"uuid":"d7c3e006-7eb1-47e8-9f9d-2c0673720c55","timestamp":"2025-09-01T09:42:38.932Z","toolUseResult":{"bytes":481300,"code":200,"codeText":"OK","result":"Based on the document, here's a summary of the Claude Desktop and Neon MCP Server setup:\n\nInstallation Steps:\n1. Prerequisites:\n- Node.js (>= v18)\n- Claude Desktop\n- Neon Account\n- Neon API Key\n\n2. Two Connection Options:\na) Remote MCP Server (Recommended)\n- OAuth authentication\n- Automatically receives latest features\n- Easier setup\n\nb) Local MCP Server\n- Runs locally\n- Uses Neon API key for authentication\n- More manual configuration\n\nSetup Process for Remote MCP Server:\n1. Open Claude Desktop settings\n2. Navigate to Developer tab\n3. Edit configuration file\n4. Add Neon server entry\n5. Restart Claude Desktop\n6. Complete OAuth authorization\n\nVerification:\n- Check available tools in Claude\n- Test by running a command like \"List my Neon projects\"\n\nThe guide suggests the remote hosted method is preferred, noting it's \"in preview\" with potential future changes.\n\nRegarding Claude Code instructions, the document doesn't explicitly detail those. The guide focuses on database interaction via natural language commands through the Neon MCP server.","durationMs":12905,"url":"https://neon.com/guides/neon-mcp-server"}}
{"parentUuid":"d7c3e006-7eb1-47e8-9f9d-2c0673720c55","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","message":{"id":"msg_01PivbXuBqAyS5pyTaPKgy7T","type":"message","role":"assistant","model":"claude-opus-4-1-20250805","content":[{"type":"tool_use","id":"toolu_01WXhQo8DRxPWHpgKTChBi4P","name":"ExitPlanMode","input":{"plan":"I'll add Claude Code installation instructions right after the Claude Desktop section in the README.md. Here's my plan:\n\n1. **Add a new Claude Code section** in the \"Supported MCP Clients\" collapsible list, positioned right after Claude Desktop (around line 150)\n\n2. **Include the following content for Claude Code:**\n   - Installation command: `npm install -g @anthropic/claude-code` \n   - One-click setup using `claude code mcp add` command\n   - Manual configuration options for both Remote and Local MCP Server\n   - Config file location information\n   - Link to the detailed Claude Code setup guide\n\n3. **Structure the Claude Code section** similar to other clients with:\n   - Clear separation between Remote MCP Server (recommended) and Local MCP Server options\n   - JSON configuration examples for both methods\n   - Proper formatting and indentation matching the existing style\n\n4. **Update the guides section** at the bottom to include the Claude Code guide link if it's not already there\n\nThis will provide users with clear instructions for installing and configuring Claude Code with the Neon MCP Server, maintaining consistency with the existing documentation structure."}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":562,"cache_read_input_tokens":25878,"cache_creation":{"ephemeral_5m_input_tokens":562,"ephemeral_1h_input_tokens":0},"output_tokens":308,"service_tier":"standard"}},"requestId":"req_011CShToU68ueNGe8JMq7mAo","type":"assistant","uuid":"35b1743d-6567-4d44-9c6d-7a971ec06e16","timestamp":"2025-09-01T09:42:50.269Z"}
{"parentUuid":"35b1743d-6567-4d44-9c6d-7a971ec06e16","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","type":"user","message":{"role":"user","content":[{"type":"tool_result","content":"User has approved your plan. You can now start coding. Start with updating your todo list if applicable","tool_use_id":"toolu_01WXhQo8DRxPWHpgKTChBi4P"}]},"uuid":"ec901b2d-2851-4132-b4bd-668e39fc5e78","timestamp":"2025-09-01T10:05:29.241Z","toolUseResult":{"plan":"I'll add Claude Code installation instructions right after the Claude Desktop section in the README.md. Here's my plan:\n\n1. **Add a new Claude Code section** in the \"Supported MCP Clients\" collapsible list, positioned right after Claude Desktop (around line 150)\n\n2. **Include the following content for Claude Code:**\n   - Installation command: `npm install -g @anthropic/claude-code` \n   - One-click setup using `claude code mcp add` command\n   - Manual configuration options for both Remote and Local MCP Server\n   - Config file location information\n   - Link to the detailed Claude Code setup guide\n\n3. **Structure the Claude Code section** similar to other clients with:\n   - Clear separation between Remote MCP Server (recommended) and Local MCP Server options\n   - JSON configuration examples for both methods\n   - Proper formatting and indentation matching the existing style\n\n4. **Update the guides section** at the bottom to include the Claude Code guide link if it's not already there\n\nThis will provide users with clear instructions for installing and configuring Claude Code with the Neon MCP Server, maintaining consistency with the existing documentation structure.","isAgent":false}}
{"parentUuid":"ec901b2d-2851-4132-b4bd-668e39fc5e78","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","message":{"id":"msg_019GDkgx6hRwyhPfNzfKS6WQ","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"I'll add Claude Code installation instructions right after the Claude Desktop section. Let me update the README.md:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":26777,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":26777,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CShVYZdafgJGpovdHBdir","type":"assistant","uuid":"0b4054c4-86d0-4b4c-a8c2-bceaa08174d2","timestamp":"2025-09-01T10:05:34.806Z"}
{"parentUuid":"0b4054c4-86d0-4b4c-a8c2-bceaa08174d2","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","message":{"id":"msg_019GDkgx6hRwyhPfNzfKS6WQ","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_014NM9QMgAQaWPYFH23sLjtR","name":"Edit","input":{"file_path":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon/README.md","old_string":"</details>\n\n<details>\n<summary>Cline (VS Code Extension)</summary>","new_string":"</details>\n\n<details>\n<summary>Claude Code</summary>\n\n**One-click installation:**\n```bash\nclaude code mcp add neon https://mcp.neon.tech/mcp\n```\n\n**Manual configuration** in MCP settings:\n\n**Remote MCP Server (Recommended):**\n```json\n{\n  \"mcpServers\": {\n    \"Neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n    }\n  }\n}\n```\n\n**Local MCP Server:**\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n    }\n  }\n}\n```\n\n📍 **Installation:** First install Claude Code: `npm install -g @anthropic/claude-code`\n\n📖 [Detailed Claude Code setup guide](https://neon.tech/guides/claude-code-mcp-neon)\n\n</details>\n\n<details>\n<summary>Cline (VS Code Extension)</summary>"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":26777,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":26777,"ephemeral_1h_input_tokens":0},"output_tokens":459,"service_tier":"standard"}},"requestId":"req_011CShVYZdafgJGpovdHBdir","type":"assistant","uuid":"595e4ffe-0873-409f-8cce-599fb1a72aca","timestamp":"2025-09-01T10:05:41.592Z"}
{"parentUuid":"595e4ffe-0873-409f-8cce-599fb1a72aca","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_014NM9QMgAQaWPYFH23sLjtR","type":"tool_result","content":"The file /Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon/README.md has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\n   146→- Windows: `%APPDATA%\\Claude\\claude_desktop_config.json`\n   147→\n   148→📖 [Detailed Claude Desktop setup guide](https://neon.tech/guides/neon-mcp-server)\n   149→\n   150→</details>\n   151→\n   152→<details>\n   153→<summary>Claude Code</summary>\n   154→\n   155→**One-click installation:**\n   156→```bash\n   157→claude code mcp add neon https://mcp.neon.tech/mcp\n   158→```\n   159→\n   160→**Manual configuration** in MCP settings:\n   161→\n   162→**Remote MCP Server (Recommended):**\n   163→```json\n   164→{\n   165→  \"mcpServers\": {\n   166→    \"Neon\": {\n   167→      \"command\": \"npx\",\n   168→      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n   169→    }\n   170→  }\n   171→}\n   172→```\n   173→\n   174→**Local MCP Server:**\n   175→```json\n   176→{\n   177→  \"mcpServers\": {\n   178→    \"neon\": {\n   179→      \"command\": \"npx\",\n   180→      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n   181→    }\n   182→  }\n   183→}\n   184→```\n   185→\n   186→📍 **Installation:** First install Claude Code: `npm install -g @anthropic/claude-code`\n   187→\n   188→📖 [Detailed Claude Code setup guide](https://neon.tech/guides/claude-code-mcp-neon)\n   189→\n   190→</details>\n   191→\n   192→<details>\n   193→<summary>Cline (VS Code Extension)</summary>\n   194→\n   195→**Setup through Cline extension:**\n   196→\n   197→1. Install [Cline extension](https://marketplace.visualstudio.com/items?itemName=cline.cline) in VS Code"}]},"uuid":"c3507f54-8525-436f-abba-83a1c0dc36e9","timestamp":"2025-09-01T10:05:41.639Z","toolUseResult":{"filePath":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon/README.md","oldString":"</details>\n\n<details>\n<summary>Cline (VS Code Extension)</summary>","newString":"</details>\n\n<details>\n<summary>Claude Code</summary>\n\n**One-click installation:**\n```bash\nclaude code mcp add neon https://mcp.neon.tech/mcp\n```\n\n**Manual configuration** in MCP settings:\n\n**Remote MCP Server (Recommended):**\n```json\n{\n  \"mcpServers\": {\n    \"Neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n    }\n  }\n}\n```\n\n**Local MCP Server:**\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n    }\n  }\n}\n```\n\n📍 **Installation:** First install Claude Code: `npm install -g @anthropic/claude-code`\n\n📖 [Detailed Claude Code setup guide](https://neon.tech/guides/claude-code-mcp-neon)\n\n</details>\n\n<details>\n<summary>Cline (VS Code Extension)</summary>","originalFile":"# Neon MCP Server\n\n[![Install MCP Server in Cursor](https://cursor.com/deeplink/mcp-install-dark.svg)](https://cursor.com/install-mcp?name=Neon&config=eyJ1cmwiOiJodHRwczovL21jcC5uZW9uLnRlY2gvbWNwIn0%3D)\n\n**Neon MCP Server** is an open-source tool that lets you interact with your Neon Postgres databases in **natural language**.\n\n[![npm version](https://img.shields.io/npm/v/@neondatabase/mcp-server-neon)](https://www.npmjs.com/package/@neondatabase/mcp-server-neon)\n[![npm downloads](https://img.shields.io/npm/dt/@neondatabase/mcp-server-neon)](https://www.npmjs.com/package/@neondatabase/mcp-server-neon)\n[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)\n\nThe Model Context Protocol (MCP) is a [new, standardized protocol](https://modelcontextprotocol.io/introduction) designed to manage context between large language models (LLMs) and external systems. This repository offers an installer and an MCP Server for [Neon](https://neon.tech).\n\nNeon's MCP server acts as a bridge between natural language requests and the [Neon API](https://api-docs.neon.tech/reference/getting-started-with-neon-api). Built upon MCP, it translates your requests into the necessary API calls, enabling you to manage tasks such as creating projects and branches, running queries, and performing database migrations seamlessly.\n\nSome of the key features of the Neon MCP server include:\n\n- **Natural language interaction:** Manage Neon databases using intuitive, conversational commands.\n- **Simplified database management:** Perform complex actions without writing SQL or directly using the Neon API.\n- **Accessibility for non-developers:** Empower users with varying technical backgrounds to interact with Neon databases.\n- **Database migration support:** Leverage Neon's branching capabilities for database schema changes initiated via natural language.\n\nFor example, in Claude Desktop, or any MCP Client, you can use natural language to accomplish things with Neon, such as:\n\n- `Let's create a new Postgres database, and call it \"my-database\". Let's then create a table called users with the following columns: id, name, email, and password.`\n- `I want to run a migration on my project called \"my-project\" that alters the users table to add a new column called \"created_at\".`\n- `Can you give me a summary of all of my Neon projects and what data is in each one?`\n\n> [!WARNING]  \n> **Neon MCP Server Security Considerations**  \n> The Neon MCP Server grants powerful database management capabilities through natural language requests. **Always review and authorize actions requested by the LLM before execution.** Ensure that only authorized users and applications have access to the Neon MCP Server.\n>\n> The Neon MCP Server is intended for local development and IDE integrations only. **We do not recommend using the Neon MCP Server in production environments.** It can execute powerful operations that may lead to accidental or unauthorized changes.\n>\n> For more information, see [MCP security guidance →](https://neon.tech/docs/ai/neon-mcp-server#mcp-security-guidance).\n\n## Supported MCP Clients\n\nChoose your preferred MCP client and install the Neon MCP Server with one click where available:\n\n<details>\n<summary>Cursor IDE</summary>\n\n[![Install MCP Server in Cursor](https://cursor.com/deeplink/mcp-install-dark.svg)](https://cursor.com/install-mcp?name=Neon&config=eyJ1cmwiOiJodHRwczovL21jcC5uZW9uLnRlY2gvbWNwIn0%3D)\n\n**One-click installation** using the button above, or configure manually:\n\n**Remote MCP Server (Recommended):**\n```json\n{\n  \"mcpServers\": {\n    \"Neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n    }\n  }\n}\n```\n\n**Local MCP Server:**\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n    }\n  }\n}\n```\n\n📖 [Detailed Cursor setup guide](https://neon.tech/guides/cursor-mcp-neon)\n\n</details>\n\n<details>\n<summary>VS Code</summary>\n\n[![Install Server](https://img.shields.io/badge/Install_Server-007ACC?style=for-the-badge&logo=visualstudiocode&logoColor=white)](vscode:mcp/install?%7B%22mcpServers%22%3A%7B%22Neon%22%3A%7B%22command%22%3A%22npx%22%2C%22args%22%3A%5B%22-y%22%2C%22mcp-remote%22%2C%22https%3A%2F%2Fmcp.neon.tech%2Fmcp%22%5D%7D%7D%7D)\n\n**One-click installation** using the button above, or configure manually in your VS Code MCP settings:\n\n**Remote MCP Server (Recommended):**\n```json\n{\n  \"mcpServers\": {\n    \"Neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n    }\n  }\n}\n```\n\n**Local MCP Server:**\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n    }\n  }\n}\n```\n\nConfiguration location: `.vscode/mcp.json` (workspace) or global settings.\n\n</details>\n\n<details>\n<summary>Claude Desktop</summary>\n\n**Manual configuration** required:\n\n1. Open Claude Desktop Settings → Extensions\n2. Choose installation method:\n   - **Remote MCP Server (OAuth):** Download and install DXT file, or\n   - **Manual Configuration:** Edit config file directly\n\n**Remote MCP Server config:**\n```json\n{\n  \"mcpServers\": {\n    \"Neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n    }\n  }\n}\n```\n\n**Local MCP Server config:**\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n    }\n  }\n}\n```\n\n📍 **Config file locations:**\n- macOS: `~/Library/Application Support/Claude/claude_desktop_config.json`\n- Windows: `%APPDATA%\\Claude\\claude_desktop_config.json`\n\n📖 [Detailed Claude Desktop setup guide](https://neon.tech/guides/neon-mcp-server)\n\n</details>\n\n<details>\n<summary>Cline (VS Code Extension)</summary>\n\n**Setup through Cline extension:**\n\n1. Install [Cline extension](https://marketplace.visualstudio.com/items?itemName=cline.cline) in VS Code\n2. Open Cline extension settings\n3. Navigate to MCP server configuration\n4. Add Neon MCP server:\n\n**Remote MCP Server (Recommended):**\n```json\n{\n  \"mcpServers\": {\n    \"Neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n    }\n  }\n}\n```\n\n**Local MCP Server:**\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n    }\n  }\n}\n```\n\n📖 [Detailed Cline setup guide](https://neon.tech/guides/cline-mcp-neon)\n\n</details>\n\n<details>\n<summary>Windsurf IDE</summary>\n\n**Setup through Windsurf settings:**\n\n1. Open Windsurf Settings → Cascade section\n2. Click \"Add Server\" button\n3. Configure Neon MCP server:\n\n**Remote MCP Server (Recommended):**\n```json\n{\n  \"mcpServers\": {\n    \"Neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n    }\n  }\n}\n```\n\n**Local MCP Server:**\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n    }\n  }\n}\n```\n\n📍 **Manual config location:** `~/.codeium/windsurf/mcp_config.json`\n\n📖 [Detailed Windsurf setup guide](https://neon.tech/guides/windsurf-mcp-neon)\n\n</details>\n\n<details>\n<summary>Zed Editor</summary>\n\n**Setup through Zed extension store or settings:**\n\n1. Open Command Palette → \"zed: extensions\" → Browse MCP servers, or\n2. Agent Panel → \"Add Custom Server\" button, or  \n3. Manual configuration in `settings.json`:\n\n**Remote MCP Server (Recommended):**\n```json\n{\n  \"context_servers\": {\n    \"Neon\": {\n      \"source\": \"custom\",\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n    }\n  }\n}\n```\n\n**Local MCP Server:**\n```json\n{\n  \"context_servers\": {\n    \"neon\": {\n      \"source\": \"custom\", \n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n    }\n  }\n}\n```\n\n📖 [Detailed Zed setup guide](https://neon.tech/guides/zed-mcp-neon)\n\n</details>\n\n---\n\n## Setting up Neon MCP Server\n\nYou have two options for connecting your MCP client to Neon:\n\n1. **Remote MCP Server (Preview):** Connect to Neon's managed MCP server using OAuth for authentication. This method is more convenient as it eliminates the need to manage API keys. Additionally, you will automatically receive the latest features and improvements as soon as they are released.\n\n2. **Local MCP Server:** Run the Neon MCP server locally on your machine, authenticating with a Neon API key.\n\n## Prerequisites\n\n- An MCP Client application.\n- A [Neon account](https://console.neon.tech/signup).\n- **Node.js (>= v18.0.0) and npm:** Download from [nodejs.org](https://nodejs.org).\n\nFor Local MCP Server setup, you also need a Neon API key. See [Neon API Keys documentation](https://neon.tech/docs/manage/api-keys) for instructions on generating one.\n\n### Option 1. Remote Hosted MCP Server (Preview)\n\nConnect to Neon's managed MCP server using OAuth for authentication. This is the easiest setup, requires no local installation of this server, and doesn't need a Neon API key configured in the client.\n\n- Add the following \"Neon\" entry to your client's MCP server configuration file (e.g., `mcp.json`, `mcp_config.json`):\n\n  ```json\n  {\n    \"mcpServers\": {\n      \"Neon\": {\n        \"command\": \"npx\",\n        \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n      }\n    }\n  }\n  ```\n\n- Save the configuration file.\n- Restart or refresh your MCP client.\n- An OAuth window will open in your browser. Follow the prompts to authorize your MCP client to access your Neon account.\n\n> With OAuth base authentication, the MCP server will, by default operate on projects under your personal Neon account. To access or manage projects under organization, you must explicitly provide either the `org_id` or the `project_id` in your prompt to MCP client.\n\nRemote MCP Server also supports authentication using API key in the `Authorization` header if your client supports it\n\n```json\n{\n  \"mcpServers\": {\n    \"Neon\": {\n      \"url\": \"https://mcp.neon.tech/mcp\",\n      \"headers\": {\n        \"Authorization\": \"Bearer <$NEON_API_KEY>\"\n      }\n    }\n  }\n}\n```\n\n> Provider organization's API key to limit access to projects under the organization only.\n\nMCP supports two remote server transports: the deprecated Server-Sent Events (SSE) and the newer, recommended Streamable HTTP. If your LLM client doesn't support Streamable HTTP yet, you can switch the endpoint from `https://mcp.neon.tech/mcp` to `https://mcp.neon.tech/sse` to use SSE instead.\n\n### Option 2. Local MCP Server\n\nRun the Neon MCP server on your local machine with your Neon API key. This method allows you to manage your Neon projects and databases without relying on a remote MCP server.\n\nAdd the following JSON configuration within the `mcpServers` section of your client's `mcp_config` file, replacing `<YOUR_NEON_API_KEY>` with your actual Neon API key:\n\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"npx\",\n      \"args\": [\n        \"-y\",\n        \"@neondatabase/mcp-server-neon\",\n        \"start\",\n        \"<YOUR_NEON_API_KEY>\"\n      ]\n    }\n  }\n}\n```\n\n### Troubleshooting\n\nIf your client does not use `JSON` for configuration of MCP servers (such as older versions of Cursor), you can use the following command when prompted:\n\n```bash\nnpx -y @neondatabase/mcp-server-neon start <YOUR_NEON_API_KEY>\n```\n\n#### Troubleshooting on Windows\n\nIf you are using Windows and encounter issues while adding the MCP server, you might need to use the Command Prompt (`cmd`) or Windows Subsystem for Linux (`wsl`) to run the necessary commands. Your configuration setup may resemble the following:\n\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"cmd\",\n      \"args\": [\n        \"/c\",\n        \"npx\",\n        \"-y\",\n        \"@neondatabase/mcp-server-neon\",\n        \"start\",\n        \"<YOUR_NEON_API_KEY>\"\n      ]\n    }\n  }\n}\n```\n\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"wsl\",\n      \"args\": [\n        \"npx\",\n        \"-y\",\n        \"@neondatabase/mcp-server-neon\",\n        \"start\",\n        \"<YOUR_NEON_API_KEY>\"\n      ]\n    }\n  }\n}\n```\n\n## Guides\n\n- [Neon MCP Server Guide](https://neon.tech/docs/ai/neon-mcp-server)\n- [Connect MCP Clients to Neon](https://neon.tech/docs/ai/connect-mcp-clients-to-neon)\n- [Cursor with Neon MCP Server](https://neon.tech/guides/cursor-mcp-neon)\n- [Claude Desktop with Neon MCP Server](https://neon.tech/guides/neon-mcp-server)\n- [Cline with Neon MCP Server](https://neon.tech/guides/cline-mcp-neon)\n- [Windsurf with Neon MCP Server](https://neon.tech/guides/windsurf-mcp-neon)\n- [Zed with Neon MCP Server](https://neon.tech/guides/zed-mcp-neon)\n\n# Features\n\n## Supported Tools\n\nThe Neon MCP Server provides the following actions, which are exposed as \"tools\" to MCP Clients. You can use these tools to interact with your Neon projects and databases using natural language commands.\n\n**Project Management:**\n\n- **`list_projects`**: Lists the first 10 Neon projects in your account, providing a summary of each project. If you can't find a specific project, increase the limit by passing a higher value to the `limit` parameter.\n- **`describe_project`**: Fetches detailed information about a specific Neon project, including its ID, name, and associated branches and databases.\n- **`create_project`**: Creates a new Neon project in your Neon account. A project acts as a container for branches, databases, roles, and computes.\n- **`delete_project`**: Deletes an existing Neon project and all its associated resources.\n\n**Branch Management:**\n\n- **`create_branch`**: Creates a new branch within a specified Neon project. Leverages [Neon's branching](/docs/introduction/branching) feature for development, testing, or migrations.\n- **`delete_branch`**: Deletes an existing branch from a Neon project.\n- **`describe_branch`**: Retrieves details about a specific branch, such as its name, ID, and parent branch.\n- **`list_branch_computes`**: Lists compute endpoints for a project or specific branch, including compute ID, type, size, and autoscaling information.\n- **`list_organizations`**: Lists all organizations that the current user has access to. Optionally filter by organization name or ID using the search parameter.\n\n**SQL Query Execution:**\n\n- **`get_connection_string`**: Returns your database connection string.\n- **`run_sql`**: Executes a single SQL query against a specified Neon database. Supports both read and write operations.\n- **`run_sql_transaction`**: Executes a series of SQL queries within a single transaction against a Neon database.\n- **`get_database_tables`**: Lists all tables within a specified Neon database.\n- **`describe_table_schema`**: Retrieves the schema definition of a specific table, detailing columns, data types, and constraints.\n- **`list_slow_queries`**: Identifies performance bottlenecks by finding the slowest queries in a database. Requires the pg_stat_statements extension.\n\n**Database Migrations (Schema Changes):**\n\n- **`prepare_database_migration`**: Initiates a database migration process. Critically, it creates a temporary branch to apply and test the migration safely before affecting the main branch.\n- **`complete_database_migration`**: Finalizes and applies a prepared database migration to the main branch. This action merges changes from the temporary migration branch and cleans up temporary resources.\n\n**Query Performance Optimization:**\n\n- **`explain_sql_statement`**: Provides detailed execution plans for SQL queries to help identify performance bottlenecks.\n- **`prepare_query_tuning`**: Analyzes query performance and suggests optimizations like index creation. Creates a temporary branch for safely testing these optimizations.\n- **`complete_query_tuning`**: Applies or discards query optimizations after testing. Can merge changes from the temporary branch to the main branch.\n- **`list_slow_queries`**: Identifies and analyzes slow-performing queries in your database. Requires the `pg_stat_statements` extension.\n\n**Compute Management:**\n\n- **`list_branch_computes`**: Lists compute endpoints for a project or specific branch, showing details like compute ID, type, size, and last active time.\n\n**Neon Auth:**\n\n- **`provision_neon_auth`**: Provisions Neon Auth for a Neon project. It allows developers to easily set up authentication infrastructure by creating an integration with Stack Auth (`@stackframe/stack`).\n\n  **Query Performance Tuning:**\n\n- **`explain_sql_statement`**: Analyzes a SQL query and returns detailed execution plan information to help understand query performance.\n- **`prepare_query_tuning`**: Identifies potential performance issues in a SQL query and suggests optimizations. Creates a temporary branch for testing improvements.\n- **`complete_query_tuning`**: Finalizes and applies query optimizations after testing. Merges changes from the temporary tuning branch to the main branch.\n\n**Neon Auth:**\n\n- **`provision_neon_auth`**: Action to provision Neon Auth for a Neon project. It allows developers to easily setup authentication infrastructure by creating a integration with Stack Auth (`@stackframe/stack`).\n\n## Migrations\n\nMigrations are a way to manage changes to your database schema over time. With the Neon MCP server, LLMs are empowered to do migrations safely with separate \"Start\" (`prepare_database_migration`) and \"Commit\" (`complete_database_migration`) commands.\n\nThe \"Start\" command accepts a migration and runs it in a new temporary branch. Upon returning, this command hints to the LLM that it should test the migration on this branch. The LLM can then run the \"Commit\" command to apply the migration to the original branch.\n\n# Development\n\n## Development with MCP CLI Client\n\nThe easiest way to iterate on the MCP Server is using the `mcp-client/`. Learn more in `mcp-client/README.md`.\n\n```bash\nnpm install\nnpm run build\nnpm run watch # You can keep this open.\ncd mcp-client/ && NEON_API_KEY=... npm run start:mcp-server-neon\n```\n\n## Development with Claude Desktop (Local MCP Server)\n\n```bash\nnpm install\nnpm run build\nnpm run watch # You can keep this open.\nnode dist/index.js init $NEON_API_KEY\n```\n\nThen, **restart Claude** each time you want to test changes.\n\n# Testing\n\nTo run the tests you need to setup the `.env` file according to the `.env.example` file.\n\n```bash\nnpm run test\n```\n","structuredPatch":[{"oldStart":150,"oldLines":6,"newStart":150,"newLines":46,"lines":[" </details>"," "," <details>","+<summary>Claude Code</summary>","+","+**One-click installation:**","+```bash","+claude code mcp add neon https://mcp.neon.tech/mcp","+```","+","+**Manual configuration** in MCP settings:","+","+**Remote MCP Server (Recommended):**","+```json","+{","+  \"mcpServers\": {","+    \"Neon\": {","+      \"command\": \"npx\",","+      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]","+    }","+  }","+}","+```","+","+**Local MCP Server:**","+```json","+{","+  \"mcpServers\": {","+    \"neon\": {","+      \"command\": \"npx\",","+      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]","+    }","+  }","+}","+```","+","+📍 **Installation:** First install Claude Code: `npm install -g @anthropic/claude-code`","+","+📖 [Detailed Claude Code setup guide](https://neon.tech/guides/claude-code-mcp-neon)","+","+</details>","+","+<details>"," <summary>Cline (VS Code Extension)</summary>"," "," **Setup through Cline extension:**"]}],"userModified":false,"replaceAll":false}}
{"parentUuid":"c3507f54-8525-436f-abba-83a1c0dc36e9","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","message":{"id":"msg_01DjXUjFMB7qncduxa2vDJJk","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Now let me also update the Guides section at the bottom to include the Claude Code guide link if it's not already there:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":1182,"cache_read_input_tokens":26777,"cache_creation":{"ephemeral_5m_input_tokens":1182,"ephemeral_1h_input_tokens":0},"output_tokens":4,"service_tier":"standard"}},"requestId":"req_011CShVZRH4xAmoMD6itNu3q","type":"assistant","uuid":"0442dd79-031b-4290-b037-d71246d2a4bf","timestamp":"2025-09-01T10:05:44.761Z"}
{"parentUuid":"0442dd79-031b-4290-b037-d71246d2a4bf","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","message":{"id":"msg_01DjXUjFMB7qncduxa2vDJJk","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01RiRpz3BXT8z4ENPWUGkiuy","name":"Read","input":{"file_path":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon/README.md","offset":395,"limit":15}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":1182,"cache_read_input_tokens":26777,"cache_creation":{"ephemeral_5m_input_tokens":1182,"ephemeral_1h_input_tokens":0},"output_tokens":141,"service_tier":"standard"}},"requestId":"req_011CShVZRH4xAmoMD6itNu3q","type":"assistant","uuid":"3e4653d4-a863-4cad-98fb-624858ba6b21","timestamp":"2025-09-01T10:05:45.526Z"}
{"parentUuid":"3e4653d4-a863-4cad-98fb-624858ba6b21","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01RiRpz3BXT8z4ENPWUGkiuy","type":"tool_result","content":"   395→npx -y @neondatabase/mcp-server-neon start <YOUR_NEON_API_KEY>\n   396→```\n   397→\n   398→#### Troubleshooting on Windows\n   399→\n   400→If you are using Windows and encounter issues while adding the MCP server, you might need to use the Command Prompt (`cmd`) or Windows Subsystem for Linux (`wsl`) to run the necessary commands. Your configuration setup may resemble the following:\n   401→\n   402→```json\n   403→{\n   404→  \"mcpServers\": {\n   405→    \"neon\": {\n   406→      \"command\": \"cmd\",\n   407→      \"args\": [\n   408→        \"/c\",\n   409→        \"npx\",\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"3ddfd464-a1cd-42f4-a6a1-60ce78d2b4fa","timestamp":"2025-09-01T10:05:45.553Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon/README.md","content":"npx -y @neondatabase/mcp-server-neon start <YOUR_NEON_API_KEY>\n```\n\n#### Troubleshooting on Windows\n\nIf you are using Windows and encounter issues while adding the MCP server, you might need to use the Command Prompt (`cmd`) or Windows Subsystem for Linux (`wsl`) to run the necessary commands. Your configuration setup may resemble the following:\n\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"cmd\",\n      \"args\": [\n        \"/c\",\n        \"npx\",","numLines":15,"startLine":395,"totalLines":544}}}
{"parentUuid":"3ddfd464-a1cd-42f4-a6a1-60ce78d2b4fa","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","message":{"id":"msg_01WCkaqcjb3BkvBJzMRsKi8F","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_018Z7PffZ3PVosHpxXEb52av","name":"Read","input":{"file_path":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon/README.md","offset":430,"limit":15}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":536,"cache_read_input_tokens":27959,"cache_creation":{"ephemeral_5m_input_tokens":536,"ephemeral_1h_input_tokens":0},"output_tokens":114,"service_tier":"standard"}},"requestId":"req_011CShVZgNumcvQ1LmxnZpzh","type":"assistant","uuid":"6e4bf0e6-63c1-4241-946b-055bfeeba8ba","timestamp":"2025-09-01T10:05:49.310Z"}
{"parentUuid":"6e4bf0e6-63c1-4241-946b-055bfeeba8ba","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_018Z7PffZ3PVosHpxXEb52av","type":"tool_result","content":"   430→        \"<YOUR_NEON_API_KEY>\"\n   431→      ]\n   432→    }\n   433→  }\n   434→}\n   435→```\n   436→\n   437→## Guides\n   438→\n   439→- [Neon MCP Server Guide](https://neon.tech/docs/ai/neon-mcp-server)\n   440→- [Connect MCP Clients to Neon](https://neon.tech/docs/ai/connect-mcp-clients-to-neon)\n   441→- [Cursor with Neon MCP Server](https://neon.tech/guides/cursor-mcp-neon)\n   442→- [Claude Desktop with Neon MCP Server](https://neon.tech/guides/neon-mcp-server)\n   443→- [Cline with Neon MCP Server](https://neon.tech/guides/cline-mcp-neon)\n   444→- [Windsurf with Neon MCP Server](https://neon.tech/guides/windsurf-mcp-neon)\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"458f2d27-1193-4978-82d3-517ce230776b","timestamp":"2025-09-01T10:05:49.334Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon/README.md","content":"        \"<YOUR_NEON_API_KEY>\"\n      ]\n    }\n  }\n}\n```\n\n## Guides\n\n- [Neon MCP Server Guide](https://neon.tech/docs/ai/neon-mcp-server)\n- [Connect MCP Clients to Neon](https://neon.tech/docs/ai/connect-mcp-clients-to-neon)\n- [Cursor with Neon MCP Server](https://neon.tech/guides/cursor-mcp-neon)\n- [Claude Desktop with Neon MCP Server](https://neon.tech/guides/neon-mcp-server)\n- [Cline with Neon MCP Server](https://neon.tech/guides/cline-mcp-neon)\n- [Windsurf with Neon MCP Server](https://neon.tech/guides/windsurf-mcp-neon)","numLines":15,"startLine":430,"totalLines":544}}}
{"parentUuid":"458f2d27-1193-4978-82d3-517ce230776b","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","message":{"id":"msg_01QishFedfKGLySGwGb9XF3F","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"I can see the Guides section. Let me add the Claude Code guide link to it:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":461,"cache_read_input_tokens":28495,"cache_creation":{"ephemeral_5m_input_tokens":461,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CShVZxAwDfAjEdRtBYBBu","type":"assistant","uuid":"b03b0e78-8b60-4881-aeba-8bf2145082fa","timestamp":"2025-09-01T10:05:52.387Z"}
{"parentUuid":"b03b0e78-8b60-4881-aeba-8bf2145082fa","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","message":{"id":"msg_01QishFedfKGLySGwGb9XF3F","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01DNGVp3E2p1btwER43hkS8q","name":"Edit","input":{"file_path":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon/README.md","old_string":"- [Cursor with Neon MCP Server](https://neon.tech/guides/cursor-mcp-neon)\n- [Claude Desktop with Neon MCP Server](https://neon.tech/guides/neon-mcp-server)\n- [Cline with Neon MCP Server](https://neon.tech/guides/cline-mcp-neon)","new_string":"- [Cursor with Neon MCP Server](https://neon.tech/guides/cursor-mcp-neon)\n- [Claude Desktop with Neon MCP Server](https://neon.tech/guides/neon-mcp-server)\n- [Claude Code with Neon MCP Server](https://neon.tech/guides/claude-code-mcp-neon)\n- [Cline with Neon MCP Server](https://neon.tech/guides/cline-mcp-neon)"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":461,"cache_read_input_tokens":28495,"cache_creation":{"ephemeral_5m_input_tokens":461,"ephemeral_1h_input_tokens":0},"output_tokens":348,"service_tier":"standard"}},"requestId":"req_011CShVZxAwDfAjEdRtBYBBu","type":"assistant","uuid":"c9870ffa-6356-44e2-8109-468436e4cccd","timestamp":"2025-09-01T10:05:55.961Z"}
{"parentUuid":"c9870ffa-6356-44e2-8109-468436e4cccd","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01DNGVp3E2p1btwER43hkS8q","type":"tool_result","content":"The file /Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon/README.md has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\n   437→## Guides\n   438→\n   439→- [Neon MCP Server Guide](https://neon.tech/docs/ai/neon-mcp-server)\n   440→- [Connect MCP Clients to Neon](https://neon.tech/docs/ai/connect-mcp-clients-to-neon)\n   441→- [Cursor with Neon MCP Server](https://neon.tech/guides/cursor-mcp-neon)\n   442→- [Claude Desktop with Neon MCP Server](https://neon.tech/guides/neon-mcp-server)\n   443→- [Claude Code with Neon MCP Server](https://neon.tech/guides/claude-code-mcp-neon)\n   444→- [Cline with Neon MCP Server](https://neon.tech/guides/cline-mcp-neon)\n   445→- [Windsurf with Neon MCP Server](https://neon.tech/guides/windsurf-mcp-neon)\n   446→- [Zed with Neon MCP Server](https://neon.tech/guides/zed-mcp-neon)\n   447→\n   448→# Features"}]},"uuid":"acf39e23-fcfd-4cd7-a2d6-d6fb8073b07e","timestamp":"2025-09-01T10:05:56.015Z","toolUseResult":{"filePath":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon/README.md","oldString":"- [Cursor with Neon MCP Server](https://neon.tech/guides/cursor-mcp-neon)\n- [Claude Desktop with Neon MCP Server](https://neon.tech/guides/neon-mcp-server)\n- [Cline with Neon MCP Server](https://neon.tech/guides/cline-mcp-neon)","newString":"- [Cursor with Neon MCP Server](https://neon.tech/guides/cursor-mcp-neon)\n- [Claude Desktop with Neon MCP Server](https://neon.tech/guides/neon-mcp-server)\n- [Claude Code with Neon MCP Server](https://neon.tech/guides/claude-code-mcp-neon)\n- [Cline with Neon MCP Server](https://neon.tech/guides/cline-mcp-neon)","originalFile":"# Neon MCP Server\n\n[![Install MCP Server in Cursor](https://cursor.com/deeplink/mcp-install-dark.svg)](https://cursor.com/install-mcp?name=Neon&config=eyJ1cmwiOiJodHRwczovL21jcC5uZW9uLnRlY2gvbWNwIn0%3D)\n\n**Neon MCP Server** is an open-source tool that lets you interact with your Neon Postgres databases in **natural language**.\n\n[![npm version](https://img.shields.io/npm/v/@neondatabase/mcp-server-neon)](https://www.npmjs.com/package/@neondatabase/mcp-server-neon)\n[![npm downloads](https://img.shields.io/npm/dt/@neondatabase/mcp-server-neon)](https://www.npmjs.com/package/@neondatabase/mcp-server-neon)\n[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)\n\nThe Model Context Protocol (MCP) is a [new, standardized protocol](https://modelcontextprotocol.io/introduction) designed to manage context between large language models (LLMs) and external systems. This repository offers an installer and an MCP Server for [Neon](https://neon.tech).\n\nNeon's MCP server acts as a bridge between natural language requests and the [Neon API](https://api-docs.neon.tech/reference/getting-started-with-neon-api). Built upon MCP, it translates your requests into the necessary API calls, enabling you to manage tasks such as creating projects and branches, running queries, and performing database migrations seamlessly.\n\nSome of the key features of the Neon MCP server include:\n\n- **Natural language interaction:** Manage Neon databases using intuitive, conversational commands.\n- **Simplified database management:** Perform complex actions without writing SQL or directly using the Neon API.\n- **Accessibility for non-developers:** Empower users with varying technical backgrounds to interact with Neon databases.\n- **Database migration support:** Leverage Neon's branching capabilities for database schema changes initiated via natural language.\n\nFor example, in Claude Desktop, or any MCP Client, you can use natural language to accomplish things with Neon, such as:\n\n- `Let's create a new Postgres database, and call it \"my-database\". Let's then create a table called users with the following columns: id, name, email, and password.`\n- `I want to run a migration on my project called \"my-project\" that alters the users table to add a new column called \"created_at\".`\n- `Can you give me a summary of all of my Neon projects and what data is in each one?`\n\n> [!WARNING]  \n> **Neon MCP Server Security Considerations**  \n> The Neon MCP Server grants powerful database management capabilities through natural language requests. **Always review and authorize actions requested by the LLM before execution.** Ensure that only authorized users and applications have access to the Neon MCP Server.\n>\n> The Neon MCP Server is intended for local development and IDE integrations only. **We do not recommend using the Neon MCP Server in production environments.** It can execute powerful operations that may lead to accidental or unauthorized changes.\n>\n> For more information, see [MCP security guidance →](https://neon.tech/docs/ai/neon-mcp-server#mcp-security-guidance).\n\n## Supported MCP Clients\n\nChoose your preferred MCP client and install the Neon MCP Server with one click where available:\n\n<details>\n<summary>Cursor IDE</summary>\n\n[![Install MCP Server in Cursor](https://cursor.com/deeplink/mcp-install-dark.svg)](https://cursor.com/install-mcp?name=Neon&config=eyJ1cmwiOiJodHRwczovL21jcC5uZW9uLnRlY2gvbWNwIn0%3D)\n\n**One-click installation** using the button above, or configure manually:\n\n**Remote MCP Server (Recommended):**\n```json\n{\n  \"mcpServers\": {\n    \"Neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n    }\n  }\n}\n```\n\n**Local MCP Server:**\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n    }\n  }\n}\n```\n\n📖 [Detailed Cursor setup guide](https://neon.tech/guides/cursor-mcp-neon)\n\n</details>\n\n<details>\n<summary>VS Code</summary>\n\n[![Install Server](https://img.shields.io/badge/Install_Server-007ACC?style=for-the-badge&logo=visualstudiocode&logoColor=white)](vscode:mcp/install?%7B%22mcpServers%22%3A%7B%22Neon%22%3A%7B%22command%22%3A%22npx%22%2C%22args%22%3A%5B%22-y%22%2C%22mcp-remote%22%2C%22https%3A%2F%2Fmcp.neon.tech%2Fmcp%22%5D%7D%7D%7D)\n\n**One-click installation** using the button above, or configure manually in your VS Code MCP settings:\n\n**Remote MCP Server (Recommended):**\n```json\n{\n  \"mcpServers\": {\n    \"Neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n    }\n  }\n}\n```\n\n**Local MCP Server:**\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n    }\n  }\n}\n```\n\nConfiguration location: `.vscode/mcp.json` (workspace) or global settings.\n\n</details>\n\n<details>\n<summary>Claude Desktop</summary>\n\n**Manual configuration** required:\n\n1. Open Claude Desktop Settings → Extensions\n2. Choose installation method:\n   - **Remote MCP Server (OAuth):** Download and install DXT file, or\n   - **Manual Configuration:** Edit config file directly\n\n**Remote MCP Server config:**\n```json\n{\n  \"mcpServers\": {\n    \"Neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n    }\n  }\n}\n```\n\n**Local MCP Server config:**\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n    }\n  }\n}\n```\n\n📍 **Config file locations:**\n- macOS: `~/Library/Application Support/Claude/claude_desktop_config.json`\n- Windows: `%APPDATA%\\Claude\\claude_desktop_config.json`\n\n📖 [Detailed Claude Desktop setup guide](https://neon.tech/guides/neon-mcp-server)\n\n</details>\n\n<details>\n<summary>Claude Code</summary>\n\n**One-click installation:**\n```bash\nclaude code mcp add neon https://mcp.neon.tech/mcp\n```\n\n**Manual configuration** in MCP settings:\n\n**Remote MCP Server (Recommended):**\n```json\n{\n  \"mcpServers\": {\n    \"Neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n    }\n  }\n}\n```\n\n**Local MCP Server:**\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n    }\n  }\n}\n```\n\n📍 **Installation:** First install Claude Code: `npm install -g @anthropic/claude-code`\n\n📖 [Detailed Claude Code setup guide](https://neon.tech/guides/claude-code-mcp-neon)\n\n</details>\n\n<details>\n<summary>Cline (VS Code Extension)</summary>\n\n**Setup through Cline extension:**\n\n1. Install [Cline extension](https://marketplace.visualstudio.com/items?itemName=cline.cline) in VS Code\n2. Open Cline extension settings\n3. Navigate to MCP server configuration\n4. Add Neon MCP server:\n\n**Remote MCP Server (Recommended):**\n```json\n{\n  \"mcpServers\": {\n    \"Neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n    }\n  }\n}\n```\n\n**Local MCP Server:**\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n    }\n  }\n}\n```\n\n📖 [Detailed Cline setup guide](https://neon.tech/guides/cline-mcp-neon)\n\n</details>\n\n<details>\n<summary>Windsurf IDE</summary>\n\n**Setup through Windsurf settings:**\n\n1. Open Windsurf Settings → Cascade section\n2. Click \"Add Server\" button\n3. Configure Neon MCP server:\n\n**Remote MCP Server (Recommended):**\n```json\n{\n  \"mcpServers\": {\n    \"Neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n    }\n  }\n}\n```\n\n**Local MCP Server:**\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n    }\n  }\n}\n```\n\n📍 **Manual config location:** `~/.codeium/windsurf/mcp_config.json`\n\n📖 [Detailed Windsurf setup guide](https://neon.tech/guides/windsurf-mcp-neon)\n\n</details>\n\n<details>\n<summary>Zed Editor</summary>\n\n**Setup through Zed extension store or settings:**\n\n1. Open Command Palette → \"zed: extensions\" → Browse MCP servers, or\n2. Agent Panel → \"Add Custom Server\" button, or  \n3. Manual configuration in `settings.json`:\n\n**Remote MCP Server (Recommended):**\n```json\n{\n  \"context_servers\": {\n    \"Neon\": {\n      \"source\": \"custom\",\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n    }\n  }\n}\n```\n\n**Local MCP Server:**\n```json\n{\n  \"context_servers\": {\n    \"neon\": {\n      \"source\": \"custom\", \n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@neondatabase/mcp-server-neon\", \"start\", \"<YOUR_NEON_API_KEY>\"]\n    }\n  }\n}\n```\n\n📖 [Detailed Zed setup guide](https://neon.tech/guides/zed-mcp-neon)\n\n</details>\n\n---\n\n## Setting up Neon MCP Server\n\nYou have two options for connecting your MCP client to Neon:\n\n1. **Remote MCP Server (Preview):** Connect to Neon's managed MCP server using OAuth for authentication. This method is more convenient as it eliminates the need to manage API keys. Additionally, you will automatically receive the latest features and improvements as soon as they are released.\n\n2. **Local MCP Server:** Run the Neon MCP server locally on your machine, authenticating with a Neon API key.\n\n## Prerequisites\n\n- An MCP Client application.\n- A [Neon account](https://console.neon.tech/signup).\n- **Node.js (>= v18.0.0) and npm:** Download from [nodejs.org](https://nodejs.org).\n\nFor Local MCP Server setup, you also need a Neon API key. See [Neon API Keys documentation](https://neon.tech/docs/manage/api-keys) for instructions on generating one.\n\n### Option 1. Remote Hosted MCP Server (Preview)\n\nConnect to Neon's managed MCP server using OAuth for authentication. This is the easiest setup, requires no local installation of this server, and doesn't need a Neon API key configured in the client.\n\n- Add the following \"Neon\" entry to your client's MCP server configuration file (e.g., `mcp.json`, `mcp_config.json`):\n\n  ```json\n  {\n    \"mcpServers\": {\n      \"Neon\": {\n        \"command\": \"npx\",\n        \"args\": [\"-y\", \"mcp-remote@latest\", \"https://mcp.neon.tech/mcp\"]\n      }\n    }\n  }\n  ```\n\n- Save the configuration file.\n- Restart or refresh your MCP client.\n- An OAuth window will open in your browser. Follow the prompts to authorize your MCP client to access your Neon account.\n\n> With OAuth base authentication, the MCP server will, by default operate on projects under your personal Neon account. To access or manage projects under organization, you must explicitly provide either the `org_id` or the `project_id` in your prompt to MCP client.\n\nRemote MCP Server also supports authentication using API key in the `Authorization` header if your client supports it\n\n```json\n{\n  \"mcpServers\": {\n    \"Neon\": {\n      \"url\": \"https://mcp.neon.tech/mcp\",\n      \"headers\": {\n        \"Authorization\": \"Bearer <$NEON_API_KEY>\"\n      }\n    }\n  }\n}\n```\n\n> Provider organization's API key to limit access to projects under the organization only.\n\nMCP supports two remote server transports: the deprecated Server-Sent Events (SSE) and the newer, recommended Streamable HTTP. If your LLM client doesn't support Streamable HTTP yet, you can switch the endpoint from `https://mcp.neon.tech/mcp` to `https://mcp.neon.tech/sse` to use SSE instead.\n\n### Option 2. Local MCP Server\n\nRun the Neon MCP server on your local machine with your Neon API key. This method allows you to manage your Neon projects and databases without relying on a remote MCP server.\n\nAdd the following JSON configuration within the `mcpServers` section of your client's `mcp_config` file, replacing `<YOUR_NEON_API_KEY>` with your actual Neon API key:\n\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"npx\",\n      \"args\": [\n        \"-y\",\n        \"@neondatabase/mcp-server-neon\",\n        \"start\",\n        \"<YOUR_NEON_API_KEY>\"\n      ]\n    }\n  }\n}\n```\n\n### Troubleshooting\n\nIf your client does not use `JSON` for configuration of MCP servers (such as older versions of Cursor), you can use the following command when prompted:\n\n```bash\nnpx -y @neondatabase/mcp-server-neon start <YOUR_NEON_API_KEY>\n```\n\n#### Troubleshooting on Windows\n\nIf you are using Windows and encounter issues while adding the MCP server, you might need to use the Command Prompt (`cmd`) or Windows Subsystem for Linux (`wsl`) to run the necessary commands. Your configuration setup may resemble the following:\n\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"cmd\",\n      \"args\": [\n        \"/c\",\n        \"npx\",\n        \"-y\",\n        \"@neondatabase/mcp-server-neon\",\n        \"start\",\n        \"<YOUR_NEON_API_KEY>\"\n      ]\n    }\n  }\n}\n```\n\n```json\n{\n  \"mcpServers\": {\n    \"neon\": {\n      \"command\": \"wsl\",\n      \"args\": [\n        \"npx\",\n        \"-y\",\n        \"@neondatabase/mcp-server-neon\",\n        \"start\",\n        \"<YOUR_NEON_API_KEY>\"\n      ]\n    }\n  }\n}\n```\n\n## Guides\n\n- [Neon MCP Server Guide](https://neon.tech/docs/ai/neon-mcp-server)\n- [Connect MCP Clients to Neon](https://neon.tech/docs/ai/connect-mcp-clients-to-neon)\n- [Cursor with Neon MCP Server](https://neon.tech/guides/cursor-mcp-neon)\n- [Claude Desktop with Neon MCP Server](https://neon.tech/guides/neon-mcp-server)\n- [Cline with Neon MCP Server](https://neon.tech/guides/cline-mcp-neon)\n- [Windsurf with Neon MCP Server](https://neon.tech/guides/windsurf-mcp-neon)\n- [Zed with Neon MCP Server](https://neon.tech/guides/zed-mcp-neon)\n\n# Features\n\n## Supported Tools\n\nThe Neon MCP Server provides the following actions, which are exposed as \"tools\" to MCP Clients. You can use these tools to interact with your Neon projects and databases using natural language commands.\n\n**Project Management:**\n\n- **`list_projects`**: Lists the first 10 Neon projects in your account, providing a summary of each project. If you can't find a specific project, increase the limit by passing a higher value to the `limit` parameter.\n- **`describe_project`**: Fetches detailed information about a specific Neon project, including its ID, name, and associated branches and databases.\n- **`create_project`**: Creates a new Neon project in your Neon account. A project acts as a container for branches, databases, roles, and computes.\n- **`delete_project`**: Deletes an existing Neon project and all its associated resources.\n\n**Branch Management:**\n\n- **`create_branch`**: Creates a new branch within a specified Neon project. Leverages [Neon's branching](/docs/introduction/branching) feature for development, testing, or migrations.\n- **`delete_branch`**: Deletes an existing branch from a Neon project.\n- **`describe_branch`**: Retrieves details about a specific branch, such as its name, ID, and parent branch.\n- **`list_branch_computes`**: Lists compute endpoints for a project or specific branch, including compute ID, type, size, and autoscaling information.\n- **`list_organizations`**: Lists all organizations that the current user has access to. Optionally filter by organization name or ID using the search parameter.\n\n**SQL Query Execution:**\n\n- **`get_connection_string`**: Returns your database connection string.\n- **`run_sql`**: Executes a single SQL query against a specified Neon database. Supports both read and write operations.\n- **`run_sql_transaction`**: Executes a series of SQL queries within a single transaction against a Neon database.\n- **`get_database_tables`**: Lists all tables within a specified Neon database.\n- **`describe_table_schema`**: Retrieves the schema definition of a specific table, detailing columns, data types, and constraints.\n- **`list_slow_queries`**: Identifies performance bottlenecks by finding the slowest queries in a database. Requires the pg_stat_statements extension.\n\n**Database Migrations (Schema Changes):**\n\n- **`prepare_database_migration`**: Initiates a database migration process. Critically, it creates a temporary branch to apply and test the migration safely before affecting the main branch.\n- **`complete_database_migration`**: Finalizes and applies a prepared database migration to the main branch. This action merges changes from the temporary migration branch and cleans up temporary resources.\n\n**Query Performance Optimization:**\n\n- **`explain_sql_statement`**: Provides detailed execution plans for SQL queries to help identify performance bottlenecks.\n- **`prepare_query_tuning`**: Analyzes query performance and suggests optimizations like index creation. Creates a temporary branch for safely testing these optimizations.\n- **`complete_query_tuning`**: Applies or discards query optimizations after testing. Can merge changes from the temporary branch to the main branch.\n- **`list_slow_queries`**: Identifies and analyzes slow-performing queries in your database. Requires the `pg_stat_statements` extension.\n\n**Compute Management:**\n\n- **`list_branch_computes`**: Lists compute endpoints for a project or specific branch, showing details like compute ID, type, size, and last active time.\n\n**Neon Auth:**\n\n- **`provision_neon_auth`**: Provisions Neon Auth for a Neon project. It allows developers to easily set up authentication infrastructure by creating an integration with Stack Auth (`@stackframe/stack`).\n\n  **Query Performance Tuning:**\n\n- **`explain_sql_statement`**: Analyzes a SQL query and returns detailed execution plan information to help understand query performance.\n- **`prepare_query_tuning`**: Identifies potential performance issues in a SQL query and suggests optimizations. Creates a temporary branch for testing improvements.\n- **`complete_query_tuning`**: Finalizes and applies query optimizations after testing. Merges changes from the temporary tuning branch to the main branch.\n\n**Neon Auth:**\n\n- **`provision_neon_auth`**: Action to provision Neon Auth for a Neon project. It allows developers to easily setup authentication infrastructure by creating a integration with Stack Auth (`@stackframe/stack`).\n\n## Migrations\n\nMigrations are a way to manage changes to your database schema over time. With the Neon MCP server, LLMs are empowered to do migrations safely with separate \"Start\" (`prepare_database_migration`) and \"Commit\" (`complete_database_migration`) commands.\n\nThe \"Start\" command accepts a migration and runs it in a new temporary branch. Upon returning, this command hints to the LLM that it should test the migration on this branch. The LLM can then run the \"Commit\" command to apply the migration to the original branch.\n\n# Development\n\n## Development with MCP CLI Client\n\nThe easiest way to iterate on the MCP Server is using the `mcp-client/`. Learn more in `mcp-client/README.md`.\n\n```bash\nnpm install\nnpm run build\nnpm run watch # You can keep this open.\ncd mcp-client/ && NEON_API_KEY=... npm run start:mcp-server-neon\n```\n\n## Development with Claude Desktop (Local MCP Server)\n\n```bash\nnpm install\nnpm run build\nnpm run watch # You can keep this open.\nnode dist/index.js init $NEON_API_KEY\n```\n\nThen, **restart Claude** each time you want to test changes.\n\n# Testing\n\nTo run the tests you need to setup the `.env` file according to the `.env.example` file.\n\n```bash\nnpm run test\n```\n","structuredPatch":[{"oldStart":440,"oldLines":6,"newStart":440,"newLines":7,"lines":[" - [Connect MCP Clients to Neon](https://neon.tech/docs/ai/connect-mcp-clients-to-neon)"," - [Cursor with Neon MCP Server](https://neon.tech/guides/cursor-mcp-neon)"," - [Claude Desktop with Neon MCP Server](https://neon.tech/guides/neon-mcp-server)","+- [Claude Code with Neon MCP Server](https://neon.tech/guides/claude-code-mcp-neon)"," - [Cline with Neon MCP Server](https://neon.tech/guides/cline-mcp-neon)"," - [Windsurf with Neon MCP Server](https://neon.tech/guides/windsurf-mcp-neon)"," - [Zed with Neon MCP Server](https://neon.tech/guides/zed-mcp-neon)"]}],"userModified":false,"replaceAll":false}}
{"parentUuid":"acf39e23-fcfd-4cd7-a2d6-d6fb8073b07e","isSidechain":false,"userType":"external","cwd":"/Users/pedro.figueiredo/Documents/git/neon/mcp-server-neon","sessionId":"dde44db7-7357-46b6-9306-45e57cc84e6d","version":"1.0.98","gitBranch":"main","message":{"id":"msg_01SoHLruGQuguo4GuHwKz2vx","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Perfect! I've successfully added Claude Code installation instructions to the README.md file. The changes include:\n\n1. **Added a new Claude Code section** right after Claude Desktop in the \"Supported MCP Clients\" list with:\n   - One-click installation command: `claude code mcp add neon https://mcp.neon.tech/mcp`\n   - Manual configuration options for both Remote and Local MCP Server\n   - Installation prerequisite: `npm install -g @anthropic/claude-code`\n   - Link to the detailed Claude Code setup guide\n\n2. **Updated the Guides section** to include the Claude Code guide link in the proper alphabetical order\n\nThe new section follows the same format and structure as the other MCP client sections, providing users with clear, comprehensive instructions for setting up Claude Code with the Neon MCP Server."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":806,"cache_read_input_tokens":28956,"cache_creation":{"ephemeral_5m_input_tokens":806,"ephemeral_1h_input_tokens":0},"output_tokens":189,"service_tier":"standard"}},"requestId":"req_011CShVaVjjAcwkjFzu9HZYf","type":"assistant","uuid":"298d4341-f64a-4868-b0f0-7a18ea09871d","timestamp":"2025-09-01T10:06:01.977Z"}
